(function(){var g,l=this||self,m=function(a){return void 0!==a},n=function(a){return"string"==typeof a},aa=function(a){a=a.split(".");for(var b=l,c=0;c<a.length;c++)if(b=b[a[c]],null==b)return null;return b},ba=function(){},ca=function(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=
typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b},p=function(a){return"array"==ca(a)},da=function(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length},ea=function(a){return"function"==ca(a)},q=function(a){var b=
typeof a;return"object"==b&&null!=a||"function"==b},fa="closure_uid_"+(1E9*Math.random()>>>0),ha=0,ia=function(a,b,c){return a.call.apply(a.bind,arguments)},ja=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}},r=function(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?
ia:ja;return r.apply(null,arguments)},t=Date.now||function(){return+new Date},u=function(a,b){a=a.split(".");var c=l;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&m(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}},v=function(a,b){function c(){}c.prototype=b.prototype;a.A=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Yb=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];
return b.prototype[e].apply(d,h)}};var ka={HEADER_CTA_CLICKED:"Header CTA clicked",IMAGE_GALLERY_CTA_CLICKED:"Image gallery CTA clicked",LOGO_CLICKED:"Logo clicked",PRODUCT_GALLERY_PRODUCT_CLICKED:"Product gallery product clicked",SOCIAL_LINK_CLICKED:"Social link clicked"},la={VIDEO_THUMB_INITIALIZED:"video_thumb_initialized",VIDEO_THUMB_INITIALIZED_1S:"video_thumb_initialized_1s",VIDEO_THUMB_INITIALIZED_3S:"video_thumb_initialized_3s",VIDEO_THUMB_INITIALIZED_5S:"video_thumb_initialized_5s",VIDEO_THUMB_INITIALIZED_10S:"video_thumb_initialized_10s",
VIDEO_THUMB_INITIALIZED_20S:"video_thumb_initialized_20s",AUTO_PREVIEW_STARTED_PLAYING:"autopreview_started_playing",AUTO_PREVIEW_PLAYING_2S:"autopreview_playing_2s",TETRIS_BECAME_ACTIVE:"tetris_became_active",TETRIS_BECAME_IDLE:"tetris_became_idle"},ma={GOOGLE_MAPS_API_FAILURE:"google_maps_api_failure",ENGAGEMENT_STATE_FAILURE:"engagement_state_failure",WEB_FONT_API_FAILURE:"web_font_api_failure",YOUTUBE_IFRAME_API_FAILURE:"youtube_iframe_api_failure",OSD_TIMED_OUT:"osd_timed_out"};var na=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,na);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};v(na,Error);na.prototype.name="CustomError";var oa;var pa=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");na.call(this,c+a[d])};v(pa,na);pa.prototype.name="AssertionError";
var qa=function(a,b,c,d){var e="Assertion failed";if(c){e+=": "+c;var f=d}else a&&(e+=": "+a,f=b);throw new pa(""+e,f||[]);},w=function(a,b,c){a||qa("",null,b,Array.prototype.slice.call(arguments,2));return a},ra=function(a,b){throw new pa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));},sa=function(a,b,c){n(a)||qa("Expected string but got %s: %s.",[ca(a),a],b,Array.prototype.slice.call(arguments,2));return a};var ta=Array.prototype.indexOf?function(a,b){w(null!=a.length);return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(n(a))return n(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ua=Array.prototype.forEach?function(a,b){w(null!=a.length);Array.prototype.forEach.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=n(a)?a.split(""):a,e=0;e<c;e++)e in d&&b.call(void 0,d[e],e,a)},va=Array.prototype.filter?function(a,b){w(null!=a.length);
return Array.prototype.filter.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=[],e=0,f=n(a)?a.split(""):a,h=0;h<c;h++)if(h in f){var k=f[h];b.call(void 0,k,h,a)&&(d[e++]=k)}return d},wa=Array.prototype.map?function(a,b){w(null!=a.length);return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e=n(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},xa=function(a,b){b=ta(a,b);var c;if(c=0<=b)w(null!=a.length),Array.prototype.splice.call(a,
b,1);return c},ya=function(a){return Array.prototype.concat.apply([],arguments)},za=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},Aa=function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(da(d)){var e=a.length||0,f=d.length||0;a.length=e+f;for(var h=0;h<f;h++)a[e+h]=d[h]}else a.push(d)}};var Ba=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Ca=/&/g,Da=/</g,Ea=/>/g,Fa=/"/g,Ga=/'/g,Ha=/\x00/g,Ia=/[\x00&<>"']/,Ja=function(a,b){return a<b?-1:a>b?1:0};var x;a:{var Ka=l.navigator;if(Ka){var La=Ka.userAgent;if(La){x=La;break a}}x=""}var y=function(a){return-1!=x.indexOf(a)};var Ma=function(a,b,c){for(var d in a)b.call(c,a[d],d,a)},Na=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},Oa=function(a,b){for(var c in a)if(a[c]==b)return!0;return!1},Pa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Qa=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<Pa.length;f++)c=Pa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Ra=function(a,b){var c=0;return function(d){l.clearTimeout(c);var e=arguments;c=l.setTimeout(function(){a.apply(b,e)},500)}};var z=function(a,b){this.Ja=a===Sa&&b||"";this.kb=Ta};z.prototype.U=!0;z.prototype.R=function(){return this.Ja};z.prototype.toString=function(){return"Const{"+this.Ja+"}"};var Ua=function(a){if(a instanceof z&&a.constructor===z&&a.kb===Ta)return a.Ja;ra("expected object of type Const, got '"+a+"'");return"type_error:Const"},Ta={},Sa={};var Va=function(){this.Da=""};Va.prototype.U=!0;Va.prototype.R=function(){return this.Da.toString()};Va.prototype.toString=function(){return"SafeScript{"+this.Da+"}"};Va.prototype.w=function(a){this.Da=a;return this};(new Va).w("");var Wa=function(){this.Fa=""};Wa.prototype.U=!0;Wa.prototype.R=function(){return this.Fa};Wa.prototype.toString=function(){return"SafeStyle{"+this.Fa+"}"};Wa.prototype.w=function(a){this.Fa=a;return this};(new Wa).w("");var Xa=function(){this.Ea=""};Xa.prototype.U=!0;Xa.prototype.R=function(){return this.Ea};Xa.prototype.toString=function(){return"SafeStyleSheet{"+this.Ea+"}"};Xa.prototype.w=function(a){this.Ea=a;return this};(new Xa).w("");var A=function(){this.la="";this.jb=Ya};A.prototype.U=!0;A.prototype.R=function(){return this.la.toString()};A.prototype.toString=function(){return"SafeHtml{"+this.la+"}"};var Za=function(a){if(a instanceof A&&a.constructor===A&&a.jb===Ya)return a.la;ra("expected object of type SafeHtml, got '"+a+"' of type "+ca(a));return"type_error:SafeHtml"},Ya={};A.prototype.w=function(a){this.la=a;return this};(new A).w("<!DOCTYPE html>");var $a=(new A).w("");(new A).w("<br>");var ab=function(a){var b=!1,c;return function(){b||(c=a(),b=!0);return c}}(function(){if("undefined"===typeof document)return!1;var a=document.createElement("div"),b=document.createElement("div");b.appendChild(document.createElement("div"));a.appendChild(b);if(!a.firstChild)return!1;b=a.firstChild.firstChild;a.innerHTML=Za($a);return!b.parentElement});var bb=function(a){Ia.test(a)&&(-1!=a.indexOf("&")&&(a=a.replace(Ca,"&amp;")),-1!=a.indexOf("<")&&(a=a.replace(Da,"&lt;")),-1!=a.indexOf(">")&&(a=a.replace(Ea,"&gt;")),-1!=a.indexOf('"')&&(a=a.replace(Fa,"&quot;")),-1!=a.indexOf("'")&&(a=a.replace(Ga,"&#39;")),-1!=a.indexOf("\x00")&&(a=a.replace(Ha,"&#0;")));return a},cb=function(a){return String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()})},db=function(a){var b=n(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,
"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(c,d,e){return d+e.toUpperCase()})};var eb=function(){return y("iPhone")&&!y("iPod")&&!y("iPad")||y("iPad")||y("iPod")};var fb=function(a){fb[" "](a);return a};fb[" "]=ba;var hb=function(a,b){var c=gb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var ib=y("Opera"),B=y("Trident")||y("MSIE"),jb=y("Edge"),kb=y("Gecko")&&!(-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),lb=-1!=x.toLowerCase().indexOf("webkit")&&!y("Edge"),mb=function(){var a=l.document;return a?a.documentMode:void 0},nb;
a:{var ob="",pb=function(){var a=x;if(kb)return/rv:([^\);]+)(\)|;)/.exec(a);if(jb)return/Edge\/([\d\.]+)/.exec(a);if(B)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(lb)return/WebKit\/(\S+)/.exec(a);if(ib)return/(?:Version)[ \/]?(\S+)/.exec(a)}();pb&&(ob=pb?pb[1]:"");if(B){var qb=mb();if(null!=qb&&qb>parseFloat(ob)){nb=String(qb);break a}}nb=ob}
var rb=nb,gb={},sb=function(a){return hb(a,function(){for(var b=0,c=Ba(String(rb)).split("."),d=Ba(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",k=d[f]||"";do{h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==h[0].length&&0==k[0].length)break;b=Ja(0==h[1].length?0:parseInt(h[1],10),0==k[1].length?0:parseInt(k[1],10))||Ja(0==h[2].length,0==k[2].length)||Ja(h[2],k[2]);h=h[3];k=k[3]}while(0==b)}return 0<=b})},tb;var ub=l.document;
tb=ub&&B?mb()||("CSS1Compat"==ub.compatMode?parseInt(rb,10):5):void 0;var vb=Object.freeze||function(a){return a};var wb=function(a,b,c){this.reset(a,b,c,void 0,void 0)};wb.prototype.Pa=null;var xb=0;wb.prototype.reset=function(a,b,c,d,e){"number"==typeof e||xb++;d||t();this.X=a;this.Ib=b;delete this.Pa};wb.prototype.setLevel=function(a){this.X=a};wb.prototype.getMessage=function(){return this.Ib};var C=function(a){this.fb=a;this.T=this.qa=this.X=this.ka=null},D=function(a,b){this.name=a;this.value=b};D.prototype.toString=function(){return this.name};var yb=new D("SHOUT",1200),zb=new D("SEVERE",1E3),Ab=new D("WARNING",900),Bb=new D("INFO",800),Cb=new D("CONFIG",700),Db=new D("FINE",500),Eb=new D("FINER",400),Fb=new D("FINEST",300);C.prototype.getName=function(){return this.fb};C.prototype.getParent=function(){return this.ka};C.prototype.getChildren=function(){this.qa||(this.qa={});return this.qa};
C.prototype.setLevel=function(a){this.X=a};var Gb=function(a){if(a.X)return a.X;if(a.ka)return Gb(a.ka);ra("Root logger has no level set.");return null};g=C.prototype;g.log=function(a,b,c){if(a.value>=Gb(this).value)for(ea(b)&&(b=b()),a=new wb(a,String(b),this.fb),c&&(a.Pa=c),c=this;c;){var d=c,e=a;if(d.T)for(var f=0;b=d.T[f];f++)b(e);c=c.getParent()}};g.shout=function(a,b){this.log(yb,a,b)};g.severe=function(a,b){this.log(zb,a,b)};g.warning=function(a,b){this.log(Ab,a,b)};
g.info=function(a,b){this.log(Bb,a,b)};g.config=function(a,b){this.log(Cb,a,b)};g.fine=function(a,b){this.log(Db,a,b)};g.finer=function(a,b){this.log(Eb,a,b)};g.finest=function(a,b){this.log(Fb,a,b)};var Hb={},Ib=null,Jb=function(a){Ib||(Ib=new C(""),Hb[""]=Ib,Ib.setLevel(Cb));var b;if(!(b=Hb[a])){b=new C(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=Jb(a.substr(0,c));c.getChildren()[d]=b;b.ka=c;Hb[a]=b}return b};var Kb;Kb=Jb("studioinnovation.layouts.lightbox.tetris.utils");
var Lb=function(a,b){if(Oa(ma,a))var c="sampledError";else if(Oa(la,a))c="sampledInfo";else{Kb&&Kb.severe('"'+a+'" must be in the Info or Error enum to be reported.',void 0);return}a="CreativeToolset.internals.gen204."+c+'("'+a+'", '+JSON.stringify(b)+", 1);";Enabler.invokeExternalJsFunction(a)},E=function(a,b){var c=Array(arguments.length);c[0]=null;for(var d=1;d<arguments.length;++d)c[d]=arguments[d];return new (Function.prototype.bind.apply(a,c))};var Mb=!kb&&!B||B&&9<=Number(tb)||kb&&sb("1.9.1");var Nb=function(a,b){this.width=a;this.height=b};g=Nb.prototype;g.clone=function(){return new Nb(this.width,this.height)};g.toString=function(){return"("+this.width+" x "+this.height+")"};g.aspectRatio=function(){return this.width/this.height};g.fa=function(){return!(this.width*this.height)};g.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};g.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};
g.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};g.scale=function(a,b){this.width*=a;this.height*="number"==typeof b?b:a;return this};var Ob={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Pb=function(){var a=window.document;a="CSS1Compat"==a.compatMode?a.documentElement:a.body;return new Nb(a.clientWidth,a.clientHeight)},Qb=function(a,b,c){function d(k){k&&b.appendChild(n(k)?a.createTextNode(k):k)}for(var e=1;e<c.length;e++){var f=c[e];if(!da(f)||
q(f)&&0<f.nodeType)d(f);else{a:{if(f&&"number"==typeof f.length){if(q(f)){var h="function"==typeof f.item||"string"==typeof f.item;break a}if(ea(f)){h="function"==typeof f.item;break a}}h=!1}ua(h?za(f):f,d)}}},Rb=function(a,b){w(null!=a&&null!=b,"goog.dom.appendChild expects non-null arguments");a.appendChild(b)},Sb=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null},Tb=function(){this.G=l.document||document};g=Tb.prototype;
g.getElement=function(a){return n(a)?this.G.getElementById(a):a};g.getElementsByTagName=function(a,b){return(b||this.G).getElementsByTagName(String(a))};g.setProperties=function(a,b){Ma(b,function(c,d){c&&"object"==typeof c&&c.U&&(c=c.R());"style"==d?a.style.cssText=c:"class"==d?a.className=c:"for"==d?a.htmlFor=c:Ob.hasOwnProperty(d)?a.setAttribute(Ob[d],c):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,c):a[d]=c})};g.createElement=function(a){return this.G.createElement(String(a))};
g.createTextNode=function(a){return this.G.createTextNode(String(a))};g.appendChild=Rb;g.append=function(a,b){var c=a;w(c,"Node cannot be null or undefined.");Qb(9==c.nodeType?c:c.ownerDocument||c.document,a,arguments)};g.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
g.removeNode=Sb;g.getChildren=function(a){return Mb&&void 0!=a.children?a.children:va(a.childNodes,function(b){return 1==b.nodeType})};g.contains=function(a,b){if(!a||!b)return!1;if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a};var F=function(){this.ca=this.ca;this.ja=this.ja};F.prototype.ca=!1;F.prototype.dispose=function(){this.ca||(this.ca=!0,this.C())};F.prototype.C=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()};var Ub=!B||9<=Number(tb),Vb=B&&!sb("9"),Wb=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{l.addEventListener("test",ba,b),l.removeEventListener("test",ba,b)}catch(c){}return a}();var G=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.K=!1;this.hb=!0};G.prototype.stopPropagation=function(){this.K=!0};G.prototype.preventDefault=function(){this.defaultPrevented=!0;this.hb=!1};var H=function(a,b){G.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.H=null;if(a){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=
b;if(b=a.relatedTarget){if(kb){a:{try{fb(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.offsetX=lb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=lb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,
this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType=n(a.pointerType)?a.pointerType:Xb[a.pointerType]||"";this.state=a.state;this.H=a;a.defaultPrevented&&this.preventDefault()}};v(H,G);
var Xb=vb({2:"touch",3:"pen",4:"mouse"});H.prototype.stopPropagation=function(){H.A.stopPropagation.call(this);this.H.stopPropagation?this.H.stopPropagation():this.H.cancelBubble=!0};H.prototype.preventDefault=function(){H.A.preventDefault.call(this);var a=this.H;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Vb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Yb="closure_listenable_"+(1E6*Math.random()|0),Zb=function(a){return!(!a||!a[Yb])},$b=0;var ac=function(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.da=e;this.key=++$b;this.removed=this.ba=!1},bc=function(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.da=null};var I=function(a){this.src=a;this.s={};this.$=0};I.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.s[f];a||(a=this.s[f]=[],this.$++);var h=cc(a,b,d,e);-1<h?(b=a[h],c||(b.ba=!1)):(b=new ac(b,this.src,f,!!d,e),b.ba=c,a.push(b));return b};I.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.s))return!1;var e=this.s[a];b=cc(e,b,c,d);return-1<b?(bc(e[b]),w(null!=e.length),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.s[a],this.$--),!0):!1};
var dc=function(a,b){var c=b.type;c in a.s&&xa(a.s[c],b)&&(bc(b),0==a.s[c].length&&(delete a.s[c],a.$--))};I.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.s)if(!a||c==a){for(var d=this.s[c],e=0;e<d.length;e++)++b,bc(d[e]);delete this.s[c];this.$--}return b};I.prototype.P=function(a,b,c,d){a=this.s[a.toString()];var e=-1;a&&(e=cc(a,b,c,d));return-1<e?a[e]:null};
I.prototype.hasListener=function(a,b){var c=m(a),d=c?a.toString():"",e=m(b);return Na(this.s,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};var cc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.da==d)return e}return-1};var ec="closure_lm_"+(1E6*Math.random()|0),fc={},gc=0,J=function(a,b,c,d,e){if(d&&d.once)return hc(a,b,c,d,e);if(p(b)){for(var f=0;f<b.length;f++)J(a,b[f],c,d,e);return null}c=ic(c);return Zb(a)?a.listen(b,c,q(d)?!!d.capture:!!d,e):jc(a,b,c,!1,d,e)},jc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=q(e)?!!e.capture:!!e,k=kc(a);k||(a[ec]=k=new I(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=lc();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Wb||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),
d,e);else if(a.attachEvent)a.attachEvent(mc(b.toString()),d);else if(a.addListener&&a.removeListener)w("change"===b,"MediaQueryList only has a change event"),a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");gc++;return c},lc=function(){var a=nc,b=Ub?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},hc=function(a,b,c,d,e){if(p(b)){for(var f=0;f<b.length;f++)hc(a,b[f],c,d,e);return null}c=ic(c);return Zb(a)?
a.bb(b,c,q(d)?!!d.capture:!!d,e):jc(a,b,c,!0,d,e)},oc=function(a,b,c,d,e){if(p(b))for(var f=0;f<b.length;f++)oc(a,b[f],c,d,e);else d=q(d)?!!d.capture:!!d,c=ic(c),Zb(a)?a.Ka(b,c,d,e):a&&(a=kc(a))&&(b=a.P(b,c,d,e))&&pc(b)},pc=function(a){if("number"!=typeof a&&a&&!a.removed){var b=a.src;if(Zb(b))dc(b.v,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(mc(c),d):b.addListener&&b.removeListener&&b.removeListener(d);gc--;(c=kc(b))?(dc(c,
a),0==c.$&&(c.src=null,b[ec]=null)):bc(a)}}},mc=function(a){return a in fc?fc[a]:fc[a]="on"+a},rc=function(a,b,c,d){var e=!0;if(a=kc(a))if(b=a.s[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=qc(f,d),e=e&&!1!==f)}return e},qc=function(a,b){var c=a.listener,d=a.da||a.src;a.ba&&pc(a);return c.call(d,b)},nc=function(a,b){if(a.removed)return!0;if(!Ub){var c=b||aa("window.event");b=new H(c,this);var d=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var e=
!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==c.returnValue)c.returnValue=!0}c=[];for(e=b.currentTarget;e;e=e.parentNode)c.push(e);a=a.type;for(e=c.length-1;!b.K&&0<=e;e--){b.currentTarget=c[e];var f=rc(c[e],a,!0,b);d=d&&f}for(e=0;!b.K&&e<c.length;e++)b.currentTarget=c[e],f=rc(c[e],a,!1,b),d=d&&f}return d}return qc(a,new H(b,this))},kc=function(a){a=a[ec];return a instanceof I?a:null},sc="__closure_events_fn_"+(1E9*Math.random()>>>0),ic=function(a){w(a,"Listener can not be null.");
if(ea(a))return a;w(a.handleEvent,"An object listener must have handleEvent method.");a[sc]||(a[sc]=function(b){return a.handleEvent(b)});return a[sc]};var K=function(){F.call(this);this.v=new I(this);this.mb=this;this.Ca=null};v(K,F);K.prototype[Yb]=!0;g=K.prototype;g.addEventListener=function(a,b,c,d){J(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){oc(this,a,b,c,d)};
g.dispatchEvent=function(a){tc(this);var b=this.Ca;if(b){var c=[];for(var d=1;b;b=b.Ca)c.push(b),w(1E3>++d,"infinite loop")}b=this.mb;d=a.type||a;if(n(a))a=new G(a,b);else if(a instanceof G)a.target=a.target||b;else{var e=a;a=new G(d,b);Qa(a,e)}e=!0;if(c)for(var f=c.length-1;!a.K&&0<=f;f--){var h=a.currentTarget=c[f];e=uc(h,d,!0,a)&&e}a.K||(h=a.currentTarget=b,e=uc(h,d,!0,a)&&e,a.K||(e=uc(h,d,!1,a)&&e));if(c)for(f=0;!a.K&&f<c.length;f++)h=a.currentTarget=c[f],e=uc(h,d,!1,a)&&e;return e};
g.C=function(){K.A.C.call(this);this.v&&this.v.removeAll(void 0);this.Ca=null};g.listen=function(a,b,c,d){tc(this);return this.v.add(String(a),b,!1,c,d)};g.bb=function(a,b,c,d){return this.v.add(String(a),b,!0,c,d)};g.Ka=function(a,b,c,d){this.v.remove(String(a),b,c,d)};
var uc=function(a,b,c,d){b=a.v.s[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,od=h.da||h.src;h.ba&&dc(a.v,h);e=!1!==k.call(od,d)&&e}}return e&&0!=d.hb};K.prototype.P=function(a,b,c,d){return this.v.P(String(a),b,c,d)};K.prototype.hasListener=function(a,b){return this.v.hasListener(m(a)?String(a):void 0,b)};var tc=function(a){w(a.v,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")};var vc=function(a,b,c){if(ea(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:l.setTimeout(a,b||0)};var wc=!1,xc="[Innovation Logger]";u("common.utils.logger.setEnabled",function(a){wc=a});u("common.utils.logger.setPrefix",function(a){xc="["+a+"]"});u("common.utils.logger.error",function(a,b){wc&&([].unshift.call(arguments,xc),console.error.apply(console,arguments))});var L=function(a,b){wc&&([].unshift.call(arguments,xc),console.log.apply(console,arguments))};u("common.utils.logger.log",L);var yc=function(a,b){wc&&([].unshift.call(arguments,xc),console.warn.apply(console,arguments))};
u("common.utils.logger.warn",yc);var M=function(){K.call(this);studio.Enabler.getInstance();this.id="";this.l=this.type=this.path=null;this.T={}};v(M,K);g=M.prototype;g.addPropertyChangeListener=function(a,b){var c=function(d){L("[propertyChangeHandler] "+this.path+" - "+b+": "+d)}.bind(this);studio.sdk.configurable.binding.addPropertyChangeListener(a,b,c);this.T[b]=c};g.counter=function(a){L("["+this.getPath()+"] counter: "+a);studio.sdk.configurable.counter(this.l,a)};
g.destroy=function(){L("[destroy] id: "+this.path+" - type: "+this.type);this.unregister()};g.exit=function(a,b){L("["+this.getPath()+"] exit: "+a);/^[\s\xa0]*$/.test(null==b?"":String(b))?studio.sdk.configurable.exit(this.l,a):studio.sdk.configurable.exit(this.l,a,b)};g.getId=function(){return this.id};g.getPath=function(){return this.path};g.getType=function(){return this.type};
var zc=function(a,b){var c=typeof b;return"string"==c||"number"==c||"boolean"==c||void 0==b||m(b["@type"])&&"color"==b["@type"].toLowerCase()||m(b["@type"])&&"url"==b["@type"].toLowerCase()||m(b["@value"])&&zc(a,b["@value"])};g=M.prototype;
g.register=function(a,b,c){if(q(a)){this.l&&this.unregister();this.l=a[b];this.id=c||this.l["@id"];this.path=studio.sdk.configurable.config.getPath(this.l);this.type=studio.sdk.configurable.config.getType(this.l);for(var d in this.l)zc(this,this.l[d])&&"@id"!=d&&this.addPropertyChangeListener.call(this,a[b],d);L("[register] id: "+this.path+" - type: "+this.type)}};g.removePropertyChangeListener=function(a,b){studio.sdk.configurable.binding.removePropertyChangeListener(a,b,this.T[b])};
g.showFiller=function(a,b){null!=b||(b=!0);var c=this.path;null===a||(c+="."+a);b?studio.sdk.configurable.showFiller(c):studio.sdk.configurable.hideFiller(c)};g.startTimer=function(a){L("["+this.getPath()+"] startTimer: "+a);studio.sdk.configurable.startTimer(this.l,a)};g.stopTimer=function(a){L("["+this.getPath()+"] stopTimer: "+a);studio.sdk.configurable.stopTimer(this.l,a)};
g.unregister=function(){if(this.l){L("[unregister] id: "+this.path+" - type: "+this.type);var a=this.l,b;for(b in this.l)zc(this,this.l[b])&&"@id"!=b&&this.removePropertyChangeListener.call(this,a,b);this.id="";this.l=this.type=this.path=null}};var Ac=function(a){M.call(this);this.qb=n(a)?document.getElementById(a):a};v(Ac,M);var N=function(a,b,c){Ac.call(this,a);this.Ga=[];this.o=null;this.Z=b;this.La=this.oa=-1;this.O=c};v(N,Ac);var Bc={};g=N.prototype;g.destroy=function(){N.A.destroy.call(this);Cc(this)};g.prepare=function(){this.o.prepare()};g.activate=function(){null==this.o||this.o.getIsActive()||(this.o.activate(),this.La=t(),0<this.O?(l.clearTimeout(this.oa),this.oa=vc(r(this.ib,this,!1),this.O)):this.o.stopAnimation())};g.deactivate=function(){null!=this.o&&this.o.getIsActive()&&this.ib(!0)};
g.invalidateSize=function(){this.o.invalidateSize()};g.register=function(a,b,c){N.A.register.call(this,a,b,c);this.update()};g.Lb=function(a,b){var c=a.type;"Element interacted"==c&&this.dispatchEvent("userinteracted");a.genericEngagement&&this.dispatchEvent("genericengagement");Oa(ma,c)||Oa(la,c)?Lb(c,a.gen204_params||{}):Oa(ka,a.type)||studio.sdk.configurable.counter(b,a.type,!a.deDupe)};g.ob=function(a){this.dispatchEvent("userinteracted");Enabler.exitOverride(a.type,a.href)};
g.Fb=function(a){Enabler.invokeExternalJsFunction("googlecreative.reporting.sharedReporter.reportEvents(["+JSON.stringify({unifiedReportingEvent:{type:"CUSTOM_EVENT",name:a.type},count:1})+"]);")};g.Pb=function(a){a=a.hasOwnProperty("Url")?a.Url:a;return Enabler.getUrl(a)};g.Vb=function(){for(;this.Ga.length;){var a=this.Ga.shift();studio.video.Reporter.attach(a.id,a.video,!0)}};
g.Ub=function(a){var b=a.id;a=a.video;studio.video&&studio.video.Reporter?studio.video.Reporter.attach(b,a,!0):(this.Ga.push({id:b,video:a}),Enabler.loadModule(studio.module.ModuleId.VIDEO,r(this.Vb,this)))};
g.update=function(){Cc(this);var a={};a[tetris.factory.RenderPresenterArg.DATA]=this.l;a[tetris.factory.RenderPresenterArg.PARENT_EL]=this.qb;a[tetris.factory.RenderPresenterArg.PRESENTER_TYPE]=this.Z;a[tetris.factory.RenderPresenterArg.GET_TYPE_FN]=studio.sdk.configurable.config.getType;a[tetris.factory.RenderPresenterArg.HANDLE_PINGBACK_FN]=r(this.Lb,this);a[tetris.factory.RenderPresenterArg.HANDLE_CLICK_THROUGH_FN]=r(this.ob,this);a[tetris.factory.RenderPresenterArg.HANDLE_LATENCY_FN]=r(this.Fb,
this);a[tetris.factory.RenderPresenterArg.RESOLVE_URL_FN]=r(this.Pb,this);a[tetris.factory.RenderPresenterArg.HANDLE_VIDEO_CREATED_FN]=r(this.Ub,this);this.o=tetris.factory.renderPresenter(a);null==Bc[this.Z]&&(Bc[this.Z]=[]);Bc[this.Z].push(this.o);this.dispatchEvent("updated")};g.ib=function(a){this.o.getIsAnimating()&&(l.clearTimeout(this.oa),a?this.o.deactivate():this.o.stopAnimation(),0<this.O&&(a=t()-this.La,this.O-=a))};
var Cc=function(a){null!=a.o&&(l.clearTimeout(a.oa),a.deactivate(),Sb(a.o.getElement()),xa(Bc[a.Z],a.o),a.o.dispose(),a.o=null)};u("presenters",Bc);var O=function(){M.call(this)};v(O,M);O.prototype.destroy=function(){O.A.destroy.call(this);tetris.themer.uninstall()};O.prototype.register=function(a,b,c){O.A.register.call(this,a,b,c);tetris.themer.uninstall();a=this.l.common;tetris.themer.install(a.theme,a.fontFamily,a.fontStyle,a.fontWeight,a.fontLockerFontName)};var Dc=function(){this.ma=void 0},Ec=function(a,b,c){if(null==b)c.push("null");else{if("object"==typeof b){if(p(b)){var d=b;b=d.length;c.push("[");for(var e="",f=0;f<b;f++)c.push(e),e=d[f],Ec(a,a.ma?a.ma.call(d,String(f),e):e,c),e=",";c.push("]");return}if(b instanceof String||b instanceof Number||b instanceof Boolean)b=b.valueOf();else{c.push("{");f="";for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(e=b[d],"function"!=typeof e&&(c.push(f),Fc(d,c),c.push(":"),Ec(a,a.ma?a.ma.call(b,d,e):e,c),
f=","));c.push("}");return}}switch(typeof b){case "string":Fc(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?String(b):"null");break;case "boolean":c.push(String(b));break;case "function":c.push("null");break;default:throw Error("Unknown type: "+typeof b);}}},Gc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Hc=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,Fc=function(a,b){b.push('"',a.replace(Hc,
function(c){var d=Gc[c];d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Gc[c]=d);return d}),'"')};var P=function(){K.call(this)};v(P,K);P.Ba=void 0;P.getInstance=function(){return P.Ba?P.Ba:P.Ba=new P};
var Ic=parseInt(1E4*Math.random(),10).toString(),Jc=["touchstart","touchend","click","mousedown","mouseup"],Lc=function(a){Enabler.invokeExternalJsFunction("CreativeToolset.internals.enableRemoteEvents(true);");J(document.body,Jc,function(b){Enabler.invokeExternalJsFunction('(function(e) {var sink = CreativeToolset.internals.creativeBodyRemoteEventSink;if (typeof sink == "function") { sink(e); }})('+Kc(b)+")")},!1,a)},Kc=function(a){var b=a.H,c={type:b.type,ctrlKey:b.ctrlKey,shiftKey:b.shiftKey,altKey:b.altKey,
metaKey:b.metaKey,timeStamp:b.timeStamp||t()};switch(a.type){case "touchstart":case "touchend":Qa(c,{touches:Mc(b.touches),targetTouches:Mc(b.targetTouches),changedTouches:Mc(b.changedTouches)});break;case "click":case "mousedown":case "mouseup":Qa(c,{screenX:b.screenX,screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,button:b.button,buttons:b.buttons})}a=[];Ec(new Dc,c,a);return a.join("")},Mc=function(a){return null!==a&&m(a)?wa(a,function(b){return{identifier:b.identifier,screenX:b.screenX,
screenY:b.screenY,clientX:b.clientX,clientY:b.clientY,pageX:b.pageX,pageY:b.pageY,radiusX:b.radiusX,radiusY:b.radiusY,force:b.force}}):[]};P.prototype.ua=function(){clearInterval(this.Cb);oc(window,"message",this.cb,!1,this);this.dispatchEvent("init")};P.prototype.cb=function(a){(a=a.H)&&a.origin&&-1<a.origin.indexOf("adspreview.googleusercontent.com")?this.ua():a&&a.data&&a.data.seed==Ic&&null!=a.data.ctp&&this.ua()};var Oc=function(){return!Nc()&&(y("iPod")||y("iPhone")||y("Android")||y("IEMobile"))},Nc=function(){return y("iPad")||y("Android")&&!y("Mobile")||y("Silk")};var Qc=function(a){var b={cursor:"pointer",position:"absolute",zIndex:1E3,top:0,right:0};if(n(b))(b=Pc(a,b))&&(a.style[b]=void 0);else for(var c in b){var d=a,e=b[c],f=Pc(d,c);f&&(d.style[f]=e)}},Rc={},Pc=function(a,b){var c=Rc[b];if(!c){var d=cb(b);c=d;void 0===a.style[d]&&(d=(lb?"Webkit":kb?"Moz":B?"ms":ib?"O":null)+db(d),void 0!==a.style[d]&&(c=d));Rc[b]=c}return c};var Q=function(a,b,c){K.call(this);this.L=document.getElementById(a);this.xa=document.getElementById(b);if(!this.L||!this.xa)throw"[FullExpansionController] Invalid collapsed/expanded element ID";this.Ra=c||"hover_or_click";this.Xa=this.J=this.V=!1;this.N=new Nb(0,0);this.Sa=this.Ta=void 0;this.Ha=this.Ia=-1;this.ha=this.ia=this.W=!1;a=studio.common.Environment;this.Ya=a.hasType(a.Type.LOCAL);this.ea=Pb();this.Ya&&(a=document.createElement("IMG"),a.src="https://pagead2.googlesyndication.com/pagead/bf/images/close_circle.png",
Qc(a),J(a,"click",function(){this.V=!0;window.setTimeout(r(function(){this.V=!1},this),2E3);this.Va()},!1,this),Rb(this.xa,a));Sc(this,!1);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_SUPPORT,this.Qb,!1,this);Enabler.addEventListener(studio.events.StudioEvent.ABOUT_TO_EXPAND,this.lb,!1,this);J(Enabler,studio.events.StudioEvent.FULLSCREEN_EXPAND_START,this.Qa,!1,this);J(Enabler,studio.events.StudioEvent.FULLSCREEN_COLLAPSE_START,this.sa,!1,this);J(Enabler,studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,
this.ra,!1,this);eb()&&studio.common.Environment.hasType(studio.common.Environment.Type.IN_APP)||J(Enabler,studio.events.StudioEvent.EXIT,this.Va,!1,this);Tc()};v(Q,K);
var Uc=14/9,Vc=1/Uc,Wc=function(a){var b=-(a.ea.width/2)+"px",c=-(a.ea.height/2)+"px";var d='studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.position="absolute";studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.left="50%";studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.top="50%";'+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.marginLeft="'+b+'";')+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().style.marginTop="'+
c+'";')+'studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.position="absolute";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.left="50%";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.top="50%";';d=d+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.marginLeft="'+b+'";')+('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.marginTop="'+
c+'";')+'studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.position="relative";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.width="'+a.ea.width+'px";';d+='studioV2.api.creatives[0].getAssets()[0].getContainerElement().parentNode.style.height="'+a.ea.height+'px";';Enabler.invokeExternalJsFunction(d)};g=Q.prototype;
g.enableExpansion=function(a,b){this.Ta=a;this.Sa=b;this.W=null!=a&&null!=b;Enabler.isInitialized()?(this.W||eb()||Enabler.setResponsiveExpanding(!0),Enabler.queryFullscreenSupport()):J(Enabler,studio.events.StudioEvent.INIT,function(){this.W||eb()||Enabler.setResponsiveExpanding(!0);Enabler.queryFullscreenSupport()},!1,this)};g.Qa=function(){this.ia=!1;Sc(this,!0);Enabler.counter("Lightbox Expand",!0);Enabler.startTimer("Lightbox Expansion Timer");Enabler.finishFullscreenExpand()};g.Va=function(){Enabler.requestFullscreenCollapse()};
g.sa=function(){Xc(this)};g.ra=function(){this.J&&Xc(this);Tc()};g.isExpanded=function(){return this.J};var Xc=function(a){Enabler.counter("Lightbox Collapse",!0);Enabler.stopTimer("Lightbox Expansion Timer");Sc(a,!1)},Tc=function(){Enabler.invokeExternalJsFunction('studioV2.api.creatives[0].getAssets()[0].getContainerElement().firstChild.style.overflow="visible"')};
Q.prototype.na=function(){if(!this.J&&!this.V)if(this.W||this.ha){this.ia&&this.Ma();if(this.W)var a=this.Ta,b=this.Sa;else b=Yc(this.N.width,this.N.height),a=b.width,b=b.height;a&&b&&(this.Ia=a,this.Ha=b);Enabler.requestFullscreenExpand(a,b);this.ia=!0;this.dispatchEvent("requestExpand")}else this.ha=!0,Enabler.queryFullscreenDimensions()};var Yc=function(a,b){var c=a,d=b,e=a/b;e>Uc?c=b*Uc:e<Vc&&(d=a/Vc);return new Nb(c,d)};Q.prototype.Ma=function(){this.ia=!1;this.dispatchEvent("cancelExpand")};
var Sc=function(a,b){a.xa.style.left=b?"0":"-9999px";a.J=b;a.J?a.L.style.display="none":vc(function(){this.L.style.display="";Enabler.finishFullscreenCollapse()},0,a)};Q.prototype.lb=function(){this.na()};Q.prototype.Qb=function(a){if(this.Xa=a.supported)Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_DIMENSIONS,this.Nb,!1,this),Enabler.queryFullscreenDimensions()};
Q.prototype.Nb=function(a){this.N.width=a.width;this.N.height=a.height;if(this.J){hc(window,"resize",r(function(){this.J&&this.Qa()},this));var b=Yc(this.N.width,this.N.height);a=b.width;b=b.height;if(a!=this.Ia||b!=this.Ha)Enabler.setResponsiveSize(a,b),this.Ia=a,this.Ha=b}else"hover"!=this.Ra&&J(this.L,"click",this.na,!1,this),Oc()||Nc()||"click"==this.Ra||J(this.L,"mouseenter",this.na,!1,this),this.Ya||J(this.L,"mouseleave",this.Ma,!1,this),Wc(this),this.dispatchEvent("ready"),this.ha&&(this.na(),
this.ha=!1)};var Zc=function(a,b,c){G.call(this,a);this.visibilityParams=b.visibilityParams;this.isFirstEvent=c};v(Zc,G);u("studioinnovation.visibility.VisibilityEvent",Zc);var R=function(a){K.call(this);this.Rb=a||1500;this.Gb=t();this.Wa=this.ya=!1;Enabler.addEventListener("visibilityChangeWithInfo",r(this.Ab,this));vc(r(this.Hb,this),this.Rb)};v(R,K);u("studioinnovation.visibility.OsdBroadcaster.IS_FIRST_EVENT_KEY","isFirstEvent");u("studioinnovation.visibility.OsdBroadcaster.VISIBILITY_PARAMS_KEY","visibilityParams");
u("studioinnovation.visibility.OsdBroadcaster.VISIBILITY_FRACTION_KEY","visibilityFraction");u("studioinnovation.visibility.OsdBroadcaster.VISIBLE_BOX_KEY","visibleBox");u("studioinnovation.visibility.OsdBroadcaster.VISIBLITY_CHANGE_WITH_INFO_STUDIO_EVENT_TYPE","visibilityChangeWithInfo");R.prototype.Ab=function(a){this.Wa&&yc("OsdBroadcaster received an osd message after declaringitself disconnected.");a=new Zc("innovationvisibilitychange",a,!this.ya);this.ya=!0;this.dispatchEvent(a)};
R.prototype.Hb=function(){this.ya||(this.Wa=!0,this.dispatchEvent(new G("innovationvisibilitytimeout")))};R.prototype.wb=function(){return this.Gb};R.prototype.getLoadTime=R.prototype.wb;var $c="StopIteration"in l?l.StopIteration:{message:"StopIteration",stack:""},ad=function(){};ad.prototype.next=function(){throw $c;};ad.prototype.pa=function(){return this};var S=function(a,b){this.m={};this.j=[];this.aa=this.F=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};S.prototype.S=function(){bd(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.m[this.j[b]]);return a};var cd=function(a){bd(a);return a.j.concat()};S.prototype.fa=function(){return 0==this.F};S.prototype.clear=function(){this.m={};this.aa=this.F=this.j.length=0};
S.prototype.remove=function(a){return T(this.m,a)?(delete this.m[a],this.F--,this.aa++,this.j.length>2*this.F&&bd(this),!0):!1};var bd=function(a){if(a.F!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];T(a.m,d)&&(a.j[c++]=d);b++}a.j.length=c}if(a.F!=a.j.length){var e={};for(c=b=0;b<a.j.length;)d=a.j[b],T(e,d)||(a.j[c++]=d,e[d]=1),b++;a.j.length=c}};g=S.prototype;g.get=function(a,b){return T(this.m,a)?this.m[a]:b};
g.set=function(a,b){T(this.m,a)||(this.F++,this.j.push(a),this.aa++);this.m[a]=b};g.addAll=function(a){if(a instanceof S)for(var b=cd(a),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=cd(this),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new S(this)};
g.pa=function(a){bd(this);var b=0,c=this.aa,d=this,e=new ad;e.next=function(){if(c!=d.aa)throw Error("The map has changed since the iterator was created");if(b>=d.j.length)throw $c;var f=d.j[b++];return a?f:d.m[f]};return e};var T=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var dd=function(a){if(a.S&&"function"==typeof a.S)return a.S();if(n(a))return a.split("");if(da(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b};var ed={$b:!0},fd={ac:!0},U=function(){throw Error("Do not instantiate directly");};U.prototype.rb=null;U.prototype.getContent=function(){return this.content};U.prototype.toString=function(){return this.content};var gd=function(){U.call(this)};v(gd,U);gd.prototype.ta=ed;var id=function(){var a=hd({Db:"invitation",sb:"cta",ub:"expanded"},void 0,void 0);if(!q(a))return bb(String(a));if(a instanceof U){if(a.ta===ed)return sa(a.getContent());if(a.ta===fd)return bb(a.getContent())}ra("Soy template output is unsafe for use as HTML: "+a);return"zSoyz"};var V=function(a){F.call(this);this.za=a;this.j={}};v(V,F);var jd=[];V.prototype.listen=function(a,b,c,d){p(b)||(b&&(jd[0]=b.toString()),b=jd);for(var e=0;e<b.length;e++){var f=J(a,b[e],c||this.handleEvent,d||!1,this.za||this);if(!f)break;this.j[f.key]=f}return this};V.prototype.bb=function(a,b,c,d){return kd(this,a,b,c,d)};var kd=function(a,b,c,d,e,f){if(p(c))for(var h=0;h<c.length;h++)kd(a,b,c[h],d,e,f);else{b=hc(b,c,d||a.handleEvent,e,f||a.za||a);if(!b)return a;a.j[b.key]=b}return a};
V.prototype.Ka=function(a,b,c,d,e){if(p(b))for(var f=0;f<b.length;f++)this.Ka(a,b[f],c,d,e);else c=c||this.handleEvent,d=q(d)?!!d.capture:!!d,e=e||this.za||this,c=ic(c),d=!!d,b=Zb(a)?a.P(b,c,d,e):a?(a=kc(a))?a.P(b,c,d,e):null:null,b&&(pc(b),delete this.j[b.key])};V.prototype.removeAll=function(){Ma(this.j,function(a,b){this.j.hasOwnProperty(b)&&pc(a)},this);this.j={}};V.prototype.C=function(){V.A.C.call(this);this.removeAll()};
V.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};var ld=function(a){this.m=new S;a&&this.addAll(a)},md=function(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+(a[fa]||(a[fa]=++ha)):b.substr(0,1)+a};g=ld.prototype;g.add=function(a){this.m.set(md(a),a)};g.addAll=function(a){a=dd(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=dd(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.m.remove(md(a))};g.clear=function(){this.m.clear()};g.fa=function(){return this.m.fa()};
g.contains=function(a){a=md(a);return T(this.m.m,a)};g.S=function(){return this.m.S()};g.clone=function(){return new ld(this)};g.pa=function(){return this.m.pa(!1)};var W=function(a,b){K.call(this);this.va=[];this.Sb=!!b;this.wa=new V(this);this.Eb=window.parent!=window;if(a)if(p(a))for(b=0;b<a.length;b++)nd(this,a[b].G);else nd(this,a.G);else a=oa||(oa=new Tb),nd(this,a.G);this.Za=t()};v(W,K);W.prototype.eb=0;var pd=["click","dblclick","mousedown","mousemove","mouseup"],qd=["touchend","touchmove","touchstart"],rd=["keydown","keyup"];W.prototype.C=function(){W.A.C.call(this);this.wa.dispose();this.wa=null;delete this.va};
var nd=function(a,b){if(!(0<=ta(a.va,b))){a.va.push(b);var c=!a.Sb,d=ya(rd,pd);a.Eb||Aa(d,qd);a.wa.listen(b,d,a.zb,c)}};W.prototype.zb=function(a){var b=!1;switch(a.type){case "mousemove":if("number"==typeof this.$a&&this.$a!=a.clientX||"number"==typeof this.ab&&this.ab!=a.clientY)b=!0;this.$a=a.clientX;this.ab=a.clientY;break;default:b=!0}b&&(sa(a.type),sd(this))};var sd=function(a){var b=t();a.Za=b;b>a.eb&&(a.dispatchEvent("activity"),a.eb=b+3E3)};var Y=function(a,b){K.call(this);b||(td.add(this),null==X&&(X=new W),b=X);this.Bb=a;this.D=b;this.nb=r(this.Jb,this);ud(this)};v(Y,K);Y.prototype.Aa=!1;var X=Y.prototype.Y=null,td=new ld,ud=function(a){var b=a.Bb+1-(t()-a.D.Za);0<b?a.Y=vc(a.nb,b):(J(a.D,"activity",a.gb,!1,a),a.Aa=!0,a.dispatchEvent("idle"))};Y.prototype.Jb=function(){this.Y=null;ud(this)};Y.prototype.gb=function(){vd(this);this.dispatchEvent("active");ud(this)};var vd=function(a){a.Aa&&(oc(a.D,"activity",a.gb,!1,a),a.Aa=!1)};
Y.prototype.C=function(){vd(this);null!=this.Y&&(l.clearTimeout(this.Y),this.Y=null);td.remove(this);null!=X&&td.fa()&&(X.dispose(),X=null);Y.A.C.call(this)};var wd=function(a){function b(c){this.content=c}b.prototype=a.prototype;return function(c,d){c=new b(String(c));void 0!==d&&(c.rb=d);return c}}(gd),Bd=function(a){var b=null!=a&&a.ta===ed;b&&w(a.constructor===gd);return b?String(String(a.getContent()).replace(xd,"").replace(yd,"&lt;")).replace(zd,Ad):bb(String(a))},Cd={"\x00":"&#0;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;",'"':"&quot;","&":"&amp;","'":"&#39;","-":"&#45;","/":"&#47;","<":"&lt;","=":"&#61;",">":"&gt;",
"`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},Ad=function(a){return Cd[a]},zd=/[\x00\x22\x27\x3c\x3e]/g,xd=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g,yd=/</g;var hd=function(a){var b=a.sb,c=a.Zb,d=a.ub;return wd('<div id="'+Bd(a.Db)+'" class="view-container"><div id="'+Bd(b)+'" class="view-container"></div><div id="'+Bd(c)+'" class="view-container"></div></div><div id="'+Bd(d)+'" class="view-container" style="width:100%; height: 100%;"></div>')};hd.bc="studioinnovation.layouts.lightbox.tetris.templates.creative";var Z=function(){var a=document.body;w(hd,"Soy template may not be null.");var b=id();a=w(a);var c=new z(Sa,"Soy HTML template.");sa(Ua(c),"must provide justification");w(!/^[\s\xa0]*$/.test(Ua(c)),"must provide non-empty justification");b=(new A).w(b);if(ab())for(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=Za(b);this.tetris=this.B=this.themer=null;this.M=!1;this.u=this.Oa=this.I=null;this.Kb=E(R,3E4);this.ga=!0;aa("studio.sdk.gdn")?studio.sdk.gdn.getInitializedConfigByCallback(r(this.pb,
this)):Dd(this)};g=Z.prototype;
g.pb=function(a){var b=a.getActiveExperimentLabels(),c=(a.getClientEnvironment()||{}).language,d=(a.getClientEnvironment()||{}).browserClass,e={};e[tetris.config.Field.ACTIVE_EXPERIMENTS]=b||[];e[tetris.config.Field.LOCALE]=c||"en-US";e[tetris.config.Field.BROWSER_CLASS]=d||(Oc()||Nc()?studio.common.Environment.hasType(studio.common.Environment.Type.IN_APP)?tetris.config.BrowserClass.IN_APP:tetris.config.BrowserClass.MOBILE_WEB:tetris.config.BrowserClass.DESKTOP);tetris.config.set(e);this.Oa=vc(r(this.Na,
this,null),2E3);a.retrieveCurrentEngagementState(r(this.Na,this))};g.Na=function(a){l.clearTimeout(this.Oa);null!=a?this.M=a==studio.sdk.gdn.EngagementPhase.INVITATION_LARGE_CANVAS:Lb("engagement_state_failure",{});Dd(this)};g.Tb=function(){this.M&&Enabler.counter("GENERIC_ENGAGEMENT");null!=this.u&&null!=this.u.D&&sd(this.u.D)};g.vb=function(){Enabler.counter("GENERIC_ENGAGEMENT");null!=this.u&&null!=this.u.D&&sd(this.u.D)};g.Wb=function(){(this.M||this.I.isExpanded())&&this.tetris.activate()};
var Dd=function(a){a.themer=E(O);a.tetris=E(N,"expanded",a.M?tetris.factory.PresenterType.INTERSTITIAL:tetris.factory.PresenterType.EXPANDED,24E4);J(a.tetris,"updated",r(a.Wb,a));J(a.tetris,"userinteracted",r(a.Tb,a));a.M||(a.B=E(N,"cta",tetris.factory.PresenterType.INVITATION,3E4),J(a.B,"genericengagement",r(a.vb,a)),a.I=E(Q,"invitation","expanded","hover_or_click"),J(a.Kb,"innovationvisibilitychange",r(a.Xb,a)));if(studio.sdk.configurable.getRuntimeMode()==studio.sdk.configurable.RUNTIME_MODE.TRAFFICK){var b=
P.getInstance();hc(b,"init",a.Ua,!1,a);J(window,"message",b.cb,!1,b);a=window.document.location.origin;a='(function(seed, origin){window.Creative = {};window.Creative.seed = seed;window.Creative.targetOrigin = origin;var s = document.createElement("script");s.src = "'+Enabler.getUrl("https://www.gstatic.com/doubleclick/studio/innovation/h5/layouts/creativeproxy/1/creativeproxy_min.js")+'";var t = document.getElementsByTagName("script")[0];t.parentNode.insertBefore(s, t);})("'+Ic+'", "'+a+'")';b.Cb=
setInterval(b.ua.bind(b),2500);Enabler.invokeExternalJsFunction(a);window.disableEventBubbling||Lc(b)}else a.Ua()};Z.prototype.Mb=function(){eb()&&tetris.config.getNumber(tetris.config.Field.BROWSER_CLASS,tetris.config.BrowserClass.DESKTOP)==tetris.config.BrowserClass.IN_APP||this.tetris.prepare()};var Ed=function(a){null!==a.u&&(a.u.dispose(),a.u=null)};g=Z.prototype;
g.tb=function(){this.tetris.activate();Ed(this);tetris.config.isEnabled(tetris.config.Experiment.LOG_IDLE_IN_TETRIS)&&(this.u=E(Y,5E3),this.u.listen("idle",this.yb,!1,this),this.u.listen("active",this.xb,!1,this))};g.yb=function(){Lb("tetris_became_idle",{})};g.xb=function(){Lb("tetris_became_active",{})};g.sa=function(){this.tetris.deactivate();Ed(this)};g.ra=function(){this.B.invalidateSize()};
g.Xb=function(a){a=a.visibilityParams.visibilityFraction;!this.ga&&.5<=a?(this.ga=!0,Fd(this)):this.ga&&.5>a&&(this.ga=!1,this.I&&(this.I.V=!0),this.B&&this.B.deactivate())};var Fd=function(a){a.I&&(a.I.V=!1);a.B&&a.B.activate()};
Z.prototype.Ua=function(){this.M||(this.I.enableExpansion(),Enabler.addEventListener(studio.events.StudioEvent.ABOUT_TO_EXPAND,this.Mb,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_EXPAND_FINISH,this.tb,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_START,this.sa,!1,this),Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,this.ra,!1,this));studio.sdk.configurable.getConfiguration(r(this.Ob,this))};
Z.prototype.Ob=function(a){studio.sdk.configurable.setTranslationMethod(aa("GdnPreview.getConfig"));Gd(this,a);studio.sdk.configurable.binding.addValueChangeListener(a,r(Ra(function(){Gd(this,a)},this),this))};var Gd=function(a,b){a.themer.register(b,"tetris",1);a.tetris.register(b,"tetris",2);null!=a.B&&a.B.register(b,"tetris",3);Fd(a)};u("studioinnovation.layouts.lightbox.tetris.Tetris",Z);}).call(this);
