mw.loader.implement("ext.gadget.LegacyToolbar2006@0gxwcjk",function($,jQuery,require,module){var sysMessages=['proofreadpage-button-zoom-in-label','proofreadpage-button-zoom-out-label','proofreadpage-button-reset-zoom-label','proofreadpage-button-toggle-visibility-label','proofreadpage-button-toggle-layout-label'];var isLayoutHorizontal=!1,$zoomImage,headersVisible=!0,$editForm;$editForm=$('#editform');$zoomImage=$editForm.find('.prp-page-image img');function ensureImageZoomInitialization(success){if($zoomImage.data('prpZoom')){if(success){success();}return;}mw.loader.using('jquery.prpZoom',function(){if($zoomImage.prop('complete')){$zoomImage.prpZoom();if(success){success();}}else{$zoomImage.load(function(){$zoomImage.prpZoom();if(success){success();}});}});}function toggleHeaders(visible,speed){var method;headersVisible=visible===undefined?!headersVisible:visible;method=headersVisible?'show':'hide';$editForm.find('.prp-page-edit-header')[method](speed);$editForm.find(
'.prp-page-edit-body label')[method](speed);$editForm.find('.prp-page-edit-footer')[method](speed);if($('.tool[rel=toggle-visibility]').data('setActive')){$('.tool[rel=toggle-visibility]').data('setActive')(headersVisible);}}function toggleLayout(horizontal){var $container,newHeight;isLayoutHorizontal=horizontal===undefined?!isLayoutHorizontal:horizontal;if($zoomImage.data('prpZoom')){$zoomImage.prpZoom('destroy');}$container=$zoomImage.parent();if(!isLayoutHorizontal){$container.appendTo($editForm.find('.prp-page-container'));$container.css({width:'',height:''});$editForm.find('.prp-page-content').css({width:''});$('#wpTextbox1').css({height:''});ensureImageZoomInitialization();}else{$container.insertBefore($editForm);$container.css({width:'100%',overflow:'auto',height:$(window).height()/2.7+'px'});$editForm.find('.prp-page-content').css({width:'100%'});ensureImageZoomInitialization();newHeight=$(window).height()/3+'px';$container.css({height:newHeight});$('#wpTextbox1').css({height:
newHeight});}if($('.tool[rel=toggle-layout]').data('setActive')){$('.tool[rel=toggle-layout]').data('setActive')(isLayoutHorizontal);}}headersVisible=mw.user.options.get('proofreadpage-showheaders');isLayoutHorizontal=mw.user.options.get('proofreadpage-horizontal-layout');function setupWikitextEditor(){var tools={zoom:{labelMsg:'proofreadpage-group-zoom',tools:{'zoom-in':{labelMsg:'proofreadpage-button-zoom-in-label',type:'button',oouiIcon:'zoomIn',oldIcon:'//upload.wikimedia.org/wikipedia/commons/0/04/Button_zoom_in.png',action:{type:'callback',execute:function(){ensureImageZoomInitialization(function(){$zoomImage.prpZoom('zoomIn');});}}},'zoom-out':{labelMsg:'proofreadpage-button-zoom-out-label',type:'button',oouiIcon:'zoomOut',oldIcon:'//upload.wikimedia.org/wikipedia/commons/0/03/Button_zoom_out.png',action:{type:'callback',execute:function(){ensureImageZoomInitialization(function(){$zoomImage.prpZoom('zoomOut');});}}},'reset-zoom':{labelMsg:'proofreadpage-button-reset-zoom-label',
type:'button',oouiIcon:'zoomReset',oldIcon:'//upload.wikimedia.org/wikipedia/commons/2/2a/Button_examine.png',action:{type:'callback',execute:function(){ensureImageZoomInitialization(function(){$zoomImage.prpZoom('reset');});}}}}},other:{labelMsg:'proofreadpage-group-other',tools:{'toggle-visibility':{labelMsg:'proofreadpage-button-toggle-visibility-label',type:'button',oouiIcon:'headerFooter',oldIcon:'//upload.wikimedia.org/wikipedia/commons/2/2a/Button_category_plus.png',action:{type:'callback',execute:function(){toggleHeaders(undefined,'fast');}}},'toggle-layout':{labelMsg:'proofreadpage-button-toggle-layout-label',type:'button',oouiIcon:'switchLayout',oldIcon:'//upload.wikimedia.org/wikipedia/commons/0/04/Button_multicol.png',action:{type:'callback',execute:toggleLayout.bind(this,undefined)}}}}},$edit=$('#wpTextbox1');if(mw.user.options.get('showtoolbar')){$.each(tools,function(group,list){$.each(list.tools,function(id,def){mw.toolbar.addButton({imageFile:def.oldIcon,speedTip:mw.
msg(def.labelMsg),onClick:def.action.execute});});});}}if($.inArray(mw.config.get('wgAction'),['edit','submit'])!==-1&&!mw.user.options.get('usebetatoolbar')){mw.toolbar.addButton({imageFile:"//upload.wikimedia.org/wikipedia/commons/e/e2/Button_bold.png",speedTip:"Tekst pogrubiony",tagOpen:"'''",tagClose:"'''",sampleText:"tekst pogrubiony",imageId:"mw-editbutton-bold"});mw.toolbar.addButton({imageFile:"//upload.wikimedia.org/wikipedia/commons/1/1d/Button_italic.png",speedTip:"Tekst pochylony",tagOpen:"''",tagClose:"''",sampleText:"tekst pochylony",imageId:"mw-editbutton-italic"});mw.toolbar.addButton({imageFile:"//upload.wikimedia.org/wikipedia/commons/c/c0/Button_link.png",speedTip:"Wikilink",tagOpen:"[[",tagClose:"]]",sampleText:"nazwa strony",imageId:"mw-editbutton-link"});mw.toolbar.addButton({imageFile:"//upload.wikimedia.org/wikipedia/commons/e/ec/Button_extlink.png",speedTip:"Link zewnętrzny",tagOpen:"[",tagClose:"]",sampleText:"http://www.example.com tytuł linku",imageId:
"mw-editbutton-extlink"});mw.toolbar.addButton({imageFile:"//upload.wikimedia.org/wikipedia/commons/d/de/Button_image.png",speedTip:"Grafika",tagOpen:"[[Plik:",tagClose:"|thumb|Opis pliku.]]",sampleText:"Example.jpg",imageId:"mw-editbutton-image"});mw.toolbar.addButton({imageFile:"//upload.wikimedia.org/wikipedia/commons/8/82/Nowiki_icon.png",speedTip:"Ignoruj formatowanie wiki",tagOpen:"<nowiki"+">",tagClose:"</"+"nowiki>",sampleText:"",imageId:"mw-editbutton-nowiki"});if(mw.config.get('wgNamespaceNumber')%2==1||mw.config.get('wgNamespaceNumber')==4){mw.toolbar.addButton({imageFile:"//upload.wikimedia.org/wikipedia/commons/6/6d/Button_sig.png",speedTip:"Podpis",tagOpen:"-- ~~"+"~~",tagClose:"",sampleText:"",imageId:"mw-editbutton-signature"});}mw.toolbar.addButton({imageFile:"//upload.wikimedia.org/wikipedia/commons/0/0d/Button_hr.png",speedTip:"Linia pozioma",tagOpen:"--"+"--",tagClose:"",sampleText:"",imageId:"mw-editbutton-hr"});mw.user.options.set('showtoolbar',1);if(mw.config.get
('wgPageContentModel')==='proofread-page'){mw.loader.using(['mediawiki.api'],function(){new mw.Api().loadMessagesIfMissing(sysMessages).then(function(){setupWikitextEditor();});});}}});mw.loader.implement("ext.gadget.Typo-pl@1c87trw",function($,jQuery,require,module){if($.inArray(mw.config.get('wgAction'),['edit','submit'])!==-1){$(function(){$.when(mw.loader.using(['ext.gadget.lib-toolbar'])).then(function(){toolbarGadget.addButton({'oldIcon':"//upload.wikimedia.org/wikipedia/commons/9/9f/Button_defaultsort.png",'newIcon':"//upload.wikimedia.org/wikipedia/commons/8/82/Toolbaricon_regular_T.png",'title':"Popraw układ i najczęstsze błędy OCR...",'alt':"Popraw OCR",'onclick':$.typo.exec});});});}});mw.loader.implement("ext.gadget.com-typo-pl@0mpvivf",function($,jQuery,require,module){$.typo={todo:[],add:function(fonction){$.typo.todo.push(fonction);},exec:function(){var txt=$('#wpTextbox1').val();for(var i=0;i<$.typo.todo.length;++i){txt=$.typo.todo[i](txt,'');}$('#wpTextbox1').val(txt);},execp:function(){var txt=$('#wpTextbox1').val();for(var i=0;i<$.typo.todo.length;++i){txt=$.typo.todo[i](txt,'poem');}$('#wpTextbox1').val(txt);},};if($.inArray(mw.config.get('wgAction'),['edit','submit'])!==-1){$(function(){$.typo.add(function(str,poem){if(poem==="poem"){str=str.replace(/­/g,"");}else{str=str.replace(/­ *\n?/g,"");str=str.replace(/¬ *\n?/g,"");str=str.replace(/(\S)- *\n/g,"$1");str=str.replace(/([^\.>} ]) *\n/g,"$1 ");}str=str.replace(/[·\t]/g," ");str=str.replace(/ +/g," ");str=str.replace(/\n +/g,"\n");str=str.replace(/ -/g," —");str=str.replace(/- /g,"— ");str=str.replace(/ - /g," — ");str=str.replace(/ -,/g," —,");str=str.replace(/ - ,/g," —,");str=str.replace
(/([^ \n])—/g,"$1 —");str=str.replace(/—([^ \n])/g,"— $1");str=str.replace(/ *, *([^\"“„ ])/g,", $1");str=str.replace(/([^'])'([^'])/g,"$1’$2");str=str.replace(/ ([\.\!\?\,\;\:\u2026])/g,"$1");str=str.replace(/"([a-ząćęłóńśżź])/gi,"„$1");str=str.replace(/"/g,"“");str=str.replace(/“ ,/g,"“,");str=str.replace(/“ \./g,"“.");str=str.replace(/ǳ([a-ząćęłóńśżź])/g,"dz$1");str=str.replace(/([a-ząćęłóńśżźA-ZĆŁÓŚŹŻ])ǳ/g,"$1dz");str=str.replace(/ǲ([a-ząćęłóńśżź])/g,"Dz$1");str=str.replace(/Ǳ([A-ZĄĆĘŁŃÓŚŹŻ])/g,"DZ$1");str=str.replace(/([A-ZĄĆĘŁŃÓŚŹŻ])Ǳ/g,"$1DZ");str=str.replace(/([a-ząćęłóńśżźA-ZĆŁÓŚŹŻ])ﬁ/g,"$1fi");str=str.replace(/ﬁ([a-ząćęłóńśżź])/g,"fi$1");str=str.replace(/([a-ząćęłóńśżźA-ZĆŁÓŚŹŻ])ĳ/g,"$1ij");str=str.replace(/ĳ([a-ząćęłóńśżź])/g,"ij$1");str=str.replace(/([a-ząćęłóńśżźA-ZĆŁÓŚŹŻ])/g,"$1fr");str=str.replace(
/([a-ząćęłóńśżź])/g,"fr$1");str=str.replace(/n\. p\./g,"n.&nbsp;p.");str=str.replace(/ ?<br\s?\/?>/gi,"<br>");str=str.replace(/{{tab}} /gi,"{{tab}}");str=str.replace(/{{tab}}— 1 /gi,"{{tab}}— I ");str=str.replace(/\n— {{tab}}/gi,"\n{{tab}}— ");str=str.replace(/[■•_]/g,"");str=str.replace(/’I'/g,"T");str=str.replace(/ 011 /g," on ");str=str.replace(/ [i]v /g," w ");str=str.replace(/(\d)O/g,"$10");str=str.replace(/ 0([a-ząćęłóńśżź])/g," O$1");str=str.replace(/aui/gi,"ani");str=str.replace(/[°“]\/0/gi,"%");str=str.replace(/([\n ][Gg])lówn/gi,"$1łówn");str=str.replace(/ si[ąo] /gi," się ");str=str.replace(/ juz /gi," już ");str=str.replace(/([\wĄ-ż])ó([^\wĄ-ż|}{<>\-])/g,"$1ć$2");str=str.replace(/ćj/g,"éj");str=str.replace(/tć/g,"té");str=str.replace(/cb(?!y\W)/g,"ch");str=str.replace(/ćh/g,"ch");str=str.replace(/([a-zA-Z])6([a-z])/gi,"$1ó$2");str=str.replace(/([a-zA-Z])1([a-z])/gi,"$1l$2");str=str.replace(/( [Tt])ern/g,"$1em");str=str
.replace(/\/\./g,"z");str=str.replace(/[\\v]v/g,"w");str=str.replace(/\\\\’/g,"w");str=str.replace(/[\\V]V/g,"W");str=str.replace(/v\//g,"w");str=str.replace(/c[lł]i/g,"ch");str=str.replace(/ź([eaoąęiuóy])/g,"ż$1");str=str.replace(/(mo|ró)źn/g,"$1żn");str=str.replace(/ iź/g," iż");str=str.replace(/iź /g,"iż ");str=str.replace(/ żc /g," że ");str=str.replace(/ ai /g," aż ");str=str.replace(/ teź/g," też");str=str.replace(/ ([bB])[yv][lł] /g," $1ył ");str=str.replace(/czvm/g,"czym");str=str.replace(/slde/gi,"skie");str=str.replace(/ oc[lł]/gi," od");str=str.replace(/ dła /gi," dla ");str=str.replace(/i t\. /g,"i&nbsp;t.&nbsp;");str=str.replace(/t\. zw\./g,"t.&nbsp;zw.");str=str.replace(/p\. t\./g,"p.&nbsp;t.");str=str.replace(/t\. j\./g,"t.&nbsp;j.");str=str.replace(/ +\n/g,"\n");str=str.replace(/<[^<>\n]*[“„][^<>\n]*>/g,function restoreqm(x){return x.replace(/[“„]/g,"\"");});return $.trim(str);});});}});mw.loader.implement("ext.gadget.edit-summaries@194d4f2",function($,jQuery,require,module){function przyciskiOpis(){if(window.przyciskiOpisDone)return;var el=document.getElementById('wpSummaryLabel');if(el){if(el.innerHTML.indexOf('pis zmian')==-1)return;}else{return;}el=document.getElementById('wpSummaryWidget');if(!el)el=document.getElementById('wpSummary');var opisBtns=document.createElement('span');opisBtns.id='userSummaryButtons';$(el).after(opisBtns,"<br>");var btn=przyciskiDodaj(opisBtns,'+rozwiń skróty','rozwinSkrotyOpisowZm()','','Rozwiń skróty opisów zmian');btn.style.cssText='float:right;border-color:#dd0;background-color:#dea';btn.id='btn_opisy_zm_waxon_off'
btn.wax_on=!1;var kl='';if(opisBtns){przyciskiDodaj(opisBtns,'ort.','dodajOpis("ort.")',kl,'Poprawiono błąd ortograficzny');przyciskiDodaj(opisBtns,'lit.','dodajOpis("lit.")',kl,'Poprawiono literówkę');przyciskiDodaj(opisBtns,'int.','dodajOpis("int.")',kl,'Poprawiono interpunkcję');przyciskiDodaj(opisBtns,'format.','dodajOpis("formatowanie tekstu")',kl,'Formatowanie tekstu');przyciskiDodaj(opisBtns,'licencja','dodajOpis("licencja")',kl,'Poprawiono/dodano szablon licencji');przyciskiDodaj(opisBtns,'linki-popr','dodajOpis("poprawa linków")',kl,'Poprawiono linki zewnętrzne/wewnętrzne');przyciskiDodaj(opisBtns,'interwiki','dodajOpis("[[Pomoc:Interwiki|interwiki]]")',kl,'Poprawiono/dodano linki do innych wersji Wikiźródeł');przyciskiDodaj(opisBtns,'kat.','dodajOpis("kat.")',kl,'Poprawiono/dodano kategorię');przyciskiDodaj(opisBtns,'wikizacja','dodajOpis("[[w:Wikipedia:Terminologia#W|wikizacja]]")',kl,
'Wikizacja artykułu (dodanie linków wewnętrznych, podział na sekcje itp.)');przyciskiDodaj(opisBtns,'przypisy','dodajOpis("przypisy")',kl,'Dodanie/poprawienie przypisów');opisBtns.appendChild(document.createTextNode(' '));przyciskiDodaj(opisBtns,'disamb','dodajOpis("ujednoznacznienie")',kl,'Poprawiono/dodano stronę ujednoznaczniającą');przyciskiDodaj(opisBtns,'grafika','dodajOpis("grafika")',kl,'Poprawiono/dodano grafikę');przyciskiDodaj(opisBtns,'szablon','dodajOpis("szablon")',kl,'Poprawiono/dodano szablon');przyciskiDodaj(opisBtns,'dane tekstu','dodajOpis("dane tekstu")',kl,'Poprawiono/uzupełniono/dodano nagłówek');opisBtns.appendChild(document.createElement('br'));przyciskiDodaj(opisBtns,'dr.meryt.','dodajOpis("drobne merytoryczne")',kl,'Drobne zmiany merytoryczne');przyciskiDodaj(opisBtns,'dr.red.','dodajOpis("drobne redakcyjne")',kl,'Drobne zmiany redakcyjne');przyciskiDodaj(opisBtns,'dr.tech.','dodajOpis("drobne techniczne")',kl,'Drobne zmiany techniczne');
przyciskiDodaj(opisBtns,'korekta bwd','dodajOpis("korekta bwd")',kl,'Korekta błędów w druku');przyciskiDodaj(opisBtns,'sekcje','dodajOpis("sekcje")',kl,'Wstawiono sekcje');opisBtns.appendChild(document.createTextNode(' '));przyciskiDodaj(opisBtns,'witaj','dodajOpis("witaj")',kl,'Dodano powitanie dla użytkownika');przyciskiDodaj(opisBtns,'test','dodajOpis("test")',kl,'Dodano ostrzeżenie dla użytkownika');przyciskiDodaj(opisBtns,'npa','dodajOpis("[[WS:NPA|npa]]")',kl,'Zgłoszono stronę jako podejrzany o naruszenie praw autorskich');przyciskiDodaj(opisBtns,'ek','dodajOpis("[[:Kategoria:Ekspresowe kasowanie|ek]]")',kl,'Zgłoszono artykuł do ekspresowego (s)kasowania');przyciskiDodaj(opisBtns,'rev.','dodajOpis("przywrócenie poprzedniej wersji")',kl,'przywrócenie poprzedniej wersji');opisBtns.appendChild(document.createTextNode(' '));przyciskiDodaj(opisBtns,'głos','dodajOpis("głos")',kl,'Oddano głos');przyciskiDodaj(opisBtns,'wypowiedź','dodajOpis("wypowiedź")',kl,
'Dodano własną wypowiedź w dyskusji lub w głosowaniu');opisBtns.appendChild(document.createTextNode(' '));przyciskiDodaj(opisBtns,'nowa','dodajOpis("nowa strona")',kl,'Dodano nową stronę');opisBtns.appendChild(document.createTextNode(' '));}}function przyciskiDodaj(elUserBtns,pTekst,pAkcja,pKlasa,pOpis){var nowyBtn=document.createElement('a');nowyBtn.appendChild(document.createTextNode(pTekst));nowyBtn.title=pOpis;if(pKlasa!='')nowyBtn.className=pKlasa;nowyBtn.onclick=new Function(pAkcja);elUserBtns.appendChild(nowyBtn);return nowyBtn;}window.dodajOpis=function(opis){var wpS=document.editform.wpSummary;if(wpS.value!=''&&wpS.value.charAt(wpS.value.length-2)!='/'){wpS.value+=', '+opis}else{wpS.value+=opis}}
window.rozwinSkrotyOpisowZm=function(){var els=document.getElementById('userSummaryButtons').getElementsByTagName('a');for(var i=0;i<els.length;i++){var tit=els[i].title;els[i].title=els[i].innerHTML;els[i].innerHTML=tit;}var btn=document.getElementById('btn_opisy_zm_waxon_off');btn.innerHTML=(btn.wax_on==false)?'&nbsp; -zwiń skróty':'+rozwiń skróty';btn.wax_on=!btn.wax_on;}
if(mw.config.get('wgAction')=='edit'||mw.config.get('wgAction')=='submit'){if(mw.config.get('wgNamespaceNumber')>-1){jQuery(document).ready(przyciskiOpis);}}});mw.loader.implement("ext.gadget.enhanced-search@1ecluou",function($,jQuery,require,module){if(mw.config.get('wgCanonicalSpecialPageName')=="Search"){jQuery(document).ready(function(){if(document.forms['search']){addSearchKeyboard(document.forms['search']);}if(document.forms['powersearch']){addSearchKeyboard(document.forms['powersearch']);}});}function addSearchKeyboard(searchForm){var searchBoxId='lsearchbox';if(!searchForm.lsearchbox){if(searchForm.search.id==''){searchBoxId=searchForm.name+'box';searchForm.search.id=searchBoxId;}else{searchBoxId=searchForm.search.id;}}var $input=jQuery('#'+searchBoxId);var $panel=jQuery('<div class="search_keyboard" style="width:50%; font-size:small; font-weight: bold" />');$panel.append("Polskie znaki: ");var letters=['ą','ć','ę','ł','ń','ó','ś','ź','ż','–','„','”'];for(var i=0;i<letters.length;i++){var $link=jQuery('<a href="#"/>');$link.append(letters[i]);$link.click(function(event){$input.textSelection('encapsulateSelection',{pre:
jQuery(this).text()});event.preventDefault();});$panel.append($link);}$input.parent().parent().append($panel);}if(mw.config.get('wgCanonicalSpecialPageName')=="Search"){jQuery(document).ready(function(){var searchEngines=[];var createOption=function(site,action,mainQ,addQ,addV){var opt=document.createElement('option');opt.appendChild(document.createTextNode(site));searchEngines.push([action,mainQ,addQ,addV]);return opt;};var searchForm;if(document.forms['powersearch']){searchForm=document.forms['powersearch'];}else if(document.forms['search']){searchForm=document.forms['search'];}if(searchForm.lsearchbox){var searchBox=searchForm.lsearchbox;}else{var searchBox=searchForm.search;}var selectBox=document.createElement('select');selectBox.id='searchEngine';searchForm.onsubmit=function(){var optSelected=searchEngines[document.getElementById('searchEngine').selectedIndex];searchForm.action=optSelected[0];searchBox.name=optSelected[1];searchForm.title.value=optSelected[3];searchForm.title.
name=optSelected[2];};selectBox.appendChild(createOption('MediaWiki',mw.util.wikiScript(),'search','title','Special:Search'));selectBox.appendChild(createOption('Google','//www.google.pl/search','q','sitesearch','pl.wikisource.org'));selectBox.appendChild(createOption('Yahoo','http://search.yahoo.com/search','p','vs','pl.wikisource.org'));selectBox.appendChild(createOption('Bing','http://www.bing.com/search','q','q1','site:http://pl.wikisource.org'));searchBox.style.marginLeft='0px';if(document.getElementById('loadStatus')){var lStat=document.getElementById('loadStatus');}else{var lStat=searchForm.title;}lStat.parentNode.insertBefore(selectBox,lStat);});}},{"css":[".search_keyboard a{padding:0 3px;border:1px outset #ddd}.search_keyboard a:hover{border:1px inset #ddd}"]});mw.loader.implement("ext.gadget.lib-sel_t@0ngpi6o",function($,jQuery,require,module){if(!window.sel_t){window.sel_t={};sel_t.version='2alpha';sel_t.getEditor=function(){EditorType='textarea';if(mw.user.options.get('usebetatoolbar')===1)EditorType='WikiEd';if(mw.user.options.get('visualeditor-newwikitext')==="1"&&typeof ve.init!='undefined')EditorType='2017';return EditorType;};sel_t.getSelStr=function(input,nonempty){sel_t.noSelection=!0;sel_t.isWikEdOn=!1;EditorType=sel_t.getEditor();if(typeof wikEdUseWikEd!='undefined'&&wikEdUseWikEd){sel_t.isWikEdOn=!0;WikEdUpdateTextarea();return input.value;}else if(EditorType=='WikiEd'||EditorType=='textarea'){sel_range=$(input).textSelection('getCaretPosition',{startAndEnd:!0});if(mw.config.get('wgPageContentModel')=='proofread-page'&&input.selectionStart===input.selectionEnd)$(input).select();sel_t.sel_s=input.selectionStart;sel_t.sel_e=input.selectionEnd;selected_text=$(input).textSelection('getSelection');if(selected_text.length>0){
sel_t.noSelection=!1;return selected_text;}else if(nonempty){return $(input).textSelection('getContents');}}else if(EditorType=='2017'){surfacem=ve.init.target.getSurface().model;sel_t.sel_s=surfacem.selection.range.start;sel_t.sel_e=surfacem.selection.range.end;if(sel_t.sel_s!=sel_t.sel_e){sel_t.noSelection=!1;return surfacem.getLinearFragment(new ve.Range(sel_t.sel_s,sel_t.sel_e)).getText();}else if(nonempty){return surfacem.getDom();}}return(nonempty)?input.value:'';};sel_t.qsetSelStr=function(input,str,nonempty){EditorType=sel_t.getEditor();if(sel_t.noSelection){if(nonempty){if(EditorType=='WikiEd')$(input).textSelection('setContents',str);if(EditorType=='2017'){surfacem=ve.init.target.getSurface().model;surfacem.getLinearFragment(new ve.Range(0,surfacem.getDocument().data.getLength())).insertContent(str);}if(EditorType=='textarea')input.value=str;}else{input.value+=str;input.scrollTop=input.scrollHeight;}}else if(sel_t.sel_s!==undefined){if(EditorType=='WikiEd'||EditorType==
'textarea'){$(input).textSelection('replaceSelection',str);}if(EditorType=='2017'){ve.init.target.getSurface().model.getLinearFragment(new ve.Range(sel_t.sel_s,sel_t.sel_e)).insertContent(str);}}if(sel_t.isWikEdOn){WikEdUpdateFrame();}};sel_t.setSelStr=function(input,str,nonempty){if(document.selection){input.focus();var range=document.selection.createRange();if(range.parentElement()==input){if(range.text!==''||nonempty===false){range.text=str;range.scrollIntoView(true);return;}}}else if(input.selectionStart!==undefined){var sTop=input.scrollTop;var sel_s=input.selectionStart;var sel_e=input.selectionEnd;if(sel_s!=sel_e){input.value=input.value.substring(0,sel_s)+str+input.value.substring(sel_e);input.selectionStart=sel_s;input.selectionEnd=sel_s+str.length;input.scrollTop=sTop;return;}else if(sel_s==sel_e&&!nonempty){input.value=input.value.substring(0,sel_s)+str+input.value.substring(sel_e);input.selectionEnd=sel_s+str.length;input.selectionStart=input.selectionEnd;input.scrollTop=
sTop;sel_t.ScrollIntoView(input,sel_s,sel_e);return;}}if(nonempty)input.value=str;else{input.value+=str;input.scrollTop=input.scrollHeight;}};sel_t.ScrollIntoView=function(input,sel_start,sel_end){if(sel_start<20){input.scrollTop=0;return;}var text_len=input.value.length;var text_height=input.scrollHeight;if(text_len-sel_start<20){input.scrollTop=text_height;return;}var fake;fake=input.cloneNode(false);fake.style.height='50px';fake.style.visibility='hidden';fake.style.position='absolute';fake.style.bottom='0';input.parentNode.appendChild(fake);fake.value=input.value.substr(0,sel_start);var pre_h=fake.scrollHeight;input.parentNode.removeChild(fake);var line_h=15;try{line_h=document.defaultView.getComputedStyle(input,null).lineHeight.replace(/[a-z]+/,'');if(line_h<10){line_h=15;}}catch(e){}input.scrollTop=pre_h-2*line_h;}
sel_t.getSelBound=function(input){var sel_s=0;var sel_e=0;if(input.selectionStart!=undefined){sel_s=input.selectionStart;sel_e=input.selectionEnd;}else if(document.selection){input.focus();var range=document.selection.createRange();if(range.parentElement()==input){var tmp_range=range.duplicate();tmp_range.moveToElementText(input);tmp_range.setEndPoint('EndToEnd',range);sel_e=tmp_range.text.length;sel_s=sel_e-range.text.length;}}var sel_boundaries={start:sel_s,end:sel_e};return sel_boundaries;}
sel_t.setSelBound=function(input,sel_boundaries,scroll){if(input.setSelectionRange){input.setSelectionRange(sel_boundaries.start,sel_boundaries.end);if(scroll){input.focus();sel_t.ScrollIntoView(input,sel_boundaries.start,sel_boundaries.end);}}else if(input.createTextRange){var range=input.createTextRange();range.collapse(true);var tmp;tmp=input.value.substr(0,sel_boundaries.start).match(/\r\n/g)
tmp=(tmp?tmp.length:0);var sel_start=sel_boundaries.start-tmp;tmp=input.value.substr(0,sel_boundaries.end).match(/\r\n/g)
tmp=(tmp?tmp.length:0);var sel_end=sel_boundaries.end-tmp;range.moveEnd('character',sel_end);range.moveStart('character',sel_start);range.select();if(scroll){range.scrollIntoView(true);input.focus();}}}
sel_t.setSelRange=function(input,sel_s,sel_e){var sel_boundaries={start:sel_s,end:sel_e};sel_t.setSelBound(input,sel_boundaries,true);}}});mw.loader.implement("ext.gadget.lib-toolbar@0t8fo39",function($,jQuery,require,module){if(!window.toolbarGadget){window.toolbarGadget={version:7,ready:!1,wikieditor:null,buttons:[],addButton:function(button){if(!this.ready){this.buttons.push(button);return;}var title=button.title?button.title:"";var toolbar=document.getElementById('wikiEditor-ui-toolbar');if(toolbar){var image=document.createElement('img');image.alt=button.alt?button.alt:title;image.title=title;image.className="tool tool-button";image.setAttribute('role','button');if(button.add_style){image.style.cssText=button.add_style;}if(button.id){image.setAttribute('rel',button.id);}if(button.newIcon){image.src=button.newIcon;}else if(button.icon){image.src=button.icon;}if(button.onclick){image.onclick=button.onclick;}var section;if(button.section){var sections=$(toolbar).find("div.section-"+button.section);if(sections.length){section=sections[0];}}var group;var groupName=button.group?button.group:'custom';if(!group){var groups
=$(section?section:toolbar).find("div.group-"+groupName);if(groups.length){group=groups[0];}}if(!group){if(!section){var sections=$(toolbar).find("div.section-main");if(sections.length){section=sections[0];}}group=document.createElement('div');group.className='group group-'+groupName;group.setAttribute('rel',groupName);section.appendChild(group);}if(button.href){var link=document.createElement('a');link.href=button.href;link.appendChild(image);group.appendChild(link);}else{group.appendChild(image);}if(button.oncreate){button.oncreate(image);}return;}toolbar=document.getElementById('toolbar');if(toolbar){var image=document.createElement('img');image.alt=button.alt?button.alt:title;image.title=title;image.className='mw-toolbar-editbutton';if(button.id){image.id=button.id;}if(button.oldIcon){image.src=button.oldIcon;}else if(button.icon){image.src=button.icon;}image.style.cursor='pointer';if(button.onclick){image.onclick=button.onclick;}if(button.href){var link=document.createElement('a')
;link.href=button.href;link.appendChild(image);toolbar.appendChild(link);}else{toolbar.appendChild(image);}if(button.oncreate){button.oncreate(image);}return;}},init:function(){this.wikieditor=mw.user.options.get('usebetatoolbar')===1;var that=this;var addButtons=function(){jQuery(document).ready(function(){that.ready=!0;for(var i=0;i<that.buttons.length;i++){that.addButton(that.buttons[i]);}that.buttons=null;});};if(this.wikieditor){var modules=['ext.wikiEditor'];if(mw.config.get('wgNamespaceNumber')==100){modules.push('ext.proofreadpage.page.edit');}mw.loader.using(modules,function(){addButtons();});}else{mw.loader.using("ext.gadget.LegacyToolbar2006",function(){addButtons();});}}};toolbarGadget.init();}});mw.loader.implement("ext.gadget.page-file-description@14xsvxn",function($,jQuery,require,module){if(mw.config.get("wgCanonicalNamespace")==="Page"){$(function(){mw.util.addPortletLink('p-tb',mw.util.getUrl(mw.config.get('wgPageName').replace(/^Strona/,'File').replace(/\/\d+$/,'')),"Opis pliku",'','',null,null);});}});mw.loader.implement("ext.gadget.page-numbers@110zhmd",function($,jQuery,require,module){function addTogglePageNumbersButton(){var a=document.getElementById("ca-nstab-main");if(!a){return;}var spans=$("span.PageNumber");if(!spans.length){return;}var link=document.createElement("a");link.setAttribute("title","Pokaż/ukryj numery stron");var span=document.createElement("span");span.appendChild(link);if(mw.config.get('skin')=="monobook"||mw.config.get('skin')=="vector"){var img=document.createElement("img");img.src="//upload.wikimedia.org/wikipedia/commons/thumb/9/92/Open_book_nae_02.svg/20px-Open_book_nae_02.svg.png";link.appendChild(img);}else{var text=document.createTextNode("Numeracja stron");link.appendChild(text);}link.onclick=function(){$(spans).toggle();};link.href='#';var li=document.createElement("li");li.appendChild(span);a.parentNode.insertBefore(li,a.nextSibling);link=document.createElement("a");link.appendChild(document.createTextNode("Koryguj"));span=document.createElement(
"span");span.appendChild(link);li=document.createElement("li");li.appendChild(span);li.setAttribute('id','ca-proofread');var historyLink=document.getElementById("ca-history");historyLink.parentNode.insertBefore(li,historyLink);link.href=(($(spans).length==1)?($(spans).find("a").attr("href")+"?action=edit"):'#');if($(spans).length==1){return;}link.onclick=function(){mw.notify('W tekście zostały pokazane numery stron. Kliknij na numer strony, którą chcesz poprawić.',{tag:'tpnb_gadget'});$(spans).find("a").attr("href",function(i,origValue){return origValue+(origValue.endsWith("?action=edit")?"":"?action=edit");});$(spans).show();};}if(mw.config.get('wgNamespaceNumber')==0){$(document).ready(addTogglePageNumbersButton);}});mw.loader.implement("ext.gadget.sk@1d6jwan",function($,jQuery,require,module){if((typeof sel_t)!=='object'){mw.loader.load('//pl.wikisource.org/w/index.php?action=raw&ctype=text/javascript&title=MediaWiki:Gadget-sel_t.js');}if(typeof(wp_sk_show_as_button)==='undefined'){window.wp_sk_show_as_button=!0;}if(typeof(wp_sk_redir_enabled)==='undefined'){window.wp_sk_redir_enabled=!1;}if(window.wp_sk){alert('Błąd krytyczny - konflikt nazw!\n\nJeden ze skryptów używa już nazwy wp_sk jako zmienną globalną.');}window.wp_sk=new Object();wp_sk.version='2.7.34';wp_sk.debug=function(htxt){if(typeof wp_sk_debug_enabled!='undefined'&&wp_sk_debug_enabled&&typeof nux_debug=='function'){nux_debug(htxt);}}
wp_sk.button=function(){var that=this;mw.loader.using("ext.gadget.lib-toolbar",function(){toolbarGadget.addButton({title:'Sprzątanie kodu (wer. '+that.version+')',alt:'SK',id:'wp_sk_img_btn',oldIcon:'//upload.wikimedia.org/wikipedia/commons/2/2e/Button_broom.png',newIcon:'//commons.wikimedia.org/w/thumb.php?f=Broom%20icon.svg&w=22',onclick:function(){that.cleanup(document.getElementById('wpTextbox1'));}});});}
wp_sk.warning=function(){var $summary=jQuery('#wpSummary');if(this.nochanges){$summary.css('border','2px solid #696');}else if(mw.config.get('wgArticleId')>0){$summary.css('border','');var text=$summary.val();var summary1='po czyszczeniu kodu przejrzyj wykonane zmiany!';var summary2=mw.config.get('wp-sk-summary','[[WP:SK]]');if(text.indexOf(summary1)>-1||text.indexOf(summary2)>-1){return;}if(text!=''){text+=', ';}text+=summary1;$summary.val(text);$summary.addClass('summaryWarning');var $diff=jQuery('#wpDiff');$diff.addClass('summaryWarning');$diff.click(function(){$summary.val($summary.val().replace(summary1,summary2));});}}
wp_sk.cleanup=function(input){if(!input){input=document.getElementById('wpTextbox1')}var str=sel_t.getSelStr(input,true);str=str.replace(/\r\n/g,'\n');str=str.replace(/\n+$/,'');var str_pre=str;str=wp_sk.cleaner(str);wp_sk.nochanges=(str==str_pre);if(!wp_sk.nochanges){sel_t.qsetSelStr(input,str,true);}if(mw.config.get('wgPageContentModel')=='proofread-page')$(input).textSelection('setSelection',{start:sel_range[0],end:sel_range[1]});input.focus();}
wp_sk.cleaner=function(str){str=wp_sk.nowiki.hide(str);str=wp_sk.cleanerLinks(str);str=wp_sk.cleanerTpls(str);str=wp_sk.cleanerWikiVaria(str);str=wp_sk.cleanerTXT(str);if(wp_sk.projectSpecificCleanup){str=wp_sk.projectSpecificCleanup(str);}str=wp_sk.cleanerMagicLinks(str);str=wp_sk.nowiki.show(str);return str;}
wp_sk.cleanerLinks=function(str){str=str.replace(/\[\[([a-z]+:\/\/[^\|\]]+)\]\]/g,'[$1]');str=str.replace(/\[\[([^|#\]]*)([^|\]]*)(\||\]\])/g,wp_sk.rLinkdecode);str=str.replace(/\[\[(:?) *(image|grafika|file) *: *([^ ])/gi,function(a,dw,co,l1){return'[['+dw+'Plik:'+l1.toUpperCase();});str=str.replace(/\[\[(:?) *(category|kategoria) *: *([^ ])/gi,function(a,dw,co,l1){return'[['+dw+'Kategoria:'+l1.toUpperCase();});str=str.replace(/\[\[ *(:?) *(template|szablon) *: *([^ ])/gi,function(a,dw,co,l1){return'[[Szablon:'+l1.toUpperCase();});str=str.replace(/\[\[ *(:?) *(special|specjalna) *: *([^ ])/gi,function(a,dw,co,l1){return'[[Specjalna:'+l1.toUpperCase();});str=str.replace(/\[\[ *:? *[Dd]yskusja( [a-z]*) *: */g,'[[Dyskusja$1:');if(str.search(/\{\{[ ]*DEFAULTSORT[ ]*:/)==-1){str=str.replace(/\[\[(Kategoria:[^\|\[\]\n]+)\|([^\|\[\]\n]+)\]\]/gi,function(a,kat,klucz){if(wgTitle.indexOf(klucz)==0)return'[['+kat+']]';return a;});}str=str.replace(/(\[\[Plik:[^\n\|\]]+?\|thumb)\|right/g,'$1');str
=str.replace(/(\[\[Plik:[^\n\|\]]+?)\|right(\|thumb)/g,'$1$2');str=str.replace(/(\[\[Plik:[^\|\]]+?\|)frame(\|[0-9x]+px)/,'$1thumb$2');str=str.replace(/(\[\[Plik:[^\|\]]+\|[^\|\]]+)\.\]\]/,'$1]]');str=str.replace(/\[\[ *:? *pl *: */g,'[[');str=str.replace(/\[\[Dyskusja Wikipedysty/g,'[[Dyskusja wikipedysty');str=str.replace(/\[\[ *([^\]\|:]+) *\| *\| */g,'[[$1|');str=str.replace(/\[\[([^|\]])([^|\]]*)\|([^\]])\2([a-zżółćęśąźń]*)\]\]/g,function(a,w1_1,w_rest,w2_1,poza){return(w1_1.toUpperCase()==w2_1.toUpperCase())?'[['+w2_1+w_rest+']]'+poza:a;});str=str.replace(/\[\[([^|\]]+)\|([^|\[\]]+)\]\]([a-zżółćęśąźń]+)/g,'[[$1|$2$3]]');str=str.replace(/\[\[ *([^\]\|:]*[^\]\| ]) *\|/g,'[[$1|');str=str.replace(/([^ \t\n])\[\[ +/g,'$1 [[');str=str.replace(/\[\[ +/g,'[[');str=str.replace(/([^ \t\n])\[\[([^\]\|:]+)\| +/g,'$1 [[$2|');str=str.replace(/\[\[([^\]\|:]+)\| +/g,'[[$1|');str=str.replace(/([^ \|]) +\]\]([^ \t\na-zA-ZżółćęśąźńŻÓŁĆĘŚĄŹŃ])/g,'$1]] $2');str=str
.replace(/([^ \|]) +\]\]([^a-zA-ZżółćęśąźńŻÓŁĆĘŚĄŹŃ])/g,'$1]]$2');str=str.replace(/m\.? ?\[\[n\.? ?p\.? ?m\.?\]\]/g,'m [[n.p.m.]]');str=str.replace(/(\[\[[0-9]+ (stycznia|lutego|marca|kwietnia|maja|czerwca|lipca|sierpnia|września|października|listopada|grudnia)\]\]), (\[\[[0-9]{4}\]\])/g,'$1 $3');str=str.replace(/\[\[([XVI]{1,5}) [wW]\.?\]\]/g,'[[$1 wiek|$1 w.]]');str=str.replace(/\[\[([XVI]{1,5}) [wW]\.?\|/g,'[[$1 wiek|');str=str.replace(/\[\[(III|II|IV|VIII|VII|VI|IX|XIII|XII|XI|XIV|XV|XVIII|XVII|XVI|XIX|XXI|XX)\]\]/g,'[[$1 wiek|$1]]');str=str.replace(/\[\[(III|II|IV|VIII|VII|VI|IX|XIII|XII|XI|XIV|XV|XVIII|XVII|XVI|XIX|XXI|XX)\|/g,'[[$1 wiek|');str=str.replace(/\[\[ang\.\]\]/g,'[[język angielski|ang.]]');str=str.replace(/\[\[cz\.\]\]/g,'[[język czeski|cz.]]');str=str.replace(/\[\[fr\.\]\]/g,'[[język francuski|fr.]]');str=str.replace(/\[\[łac\.\]\]/g,'[[łacina|łac.]]');str=str.replace(/\[\[niem\.\]\]/g,'[[język niemiecki|niem.]]');str=str.replace(
/\[\[pol\.\]\]/g,'[[język polski|pol.]]');str=str.replace(/\[\[pl\.\]\]/g,'[[język polski|pol.]]');str=str.replace(/\[\[ros\.\]\]/g,'[[język rosyjski|ros.]]');str=str.replace(/\[\[(((G|g)iga|(M|m)ega|(K|k)ilo)herc|[GMk]Hz)\|/g,'[[herc|');return str;}
wp_sk.cleanerTpls=function(str){str=str.replace(/\{\{ *([Tt]emplate|[Ss]zablon|msg) *: */g,'{{');str=str.replace(/\{\{[ \t]+([^\n\{\} ]+)[ \t]*\}\}/g,'{{$1}}').replace(/\{\{([^\n\{\}]+)[ \t]+\}\}/g,'{{$1}}');str=str.replace(/\{\{[lL]ang\|cz\}\}/g,'{{lang|cs}}');str=str.replace(/\{\{[lL]ang\|dk\}\}/g,'{{lang|da}}');str=str.replace(/\{\{[lL]ang\|nb\}\}/g,'{{lang|no}}');str=str.replace(/(\{\{lang\|[a-z-]+\}\}[\t ]*){2,10}/g,function(a){return'{{lang'+a.replace(/\{\{lang\|([a-z-]+)\}\}\s*/g,'|$1')+'}}';});str=str.replace(/{{(cytuj [^{}]+?)}} {{lang\|([a-z-]+)}}/gi,'{{$1 | język = $2}}');str=str.replace(/\{\{([sS]\||)([^{}\n\|]+)(\||\}\})/g,function(a,pre,nazwa,post){nazwa=nazwa.toLowerCase();if(wp_sk.sz_redirs_tab[nazwa]){a='{{'+pre+wp_sk.sz_redirs_tab[nazwa]+post}return a;});str=str.replace(/\{\{commons\|Category:/gi,'{{commonscat|');str=str.replace(/<!--[\s\S]+?-->/g,function(a){a.replace(/\{/g,'###comment_klamra_l###').replace(/\}/g,'###comment_klamra_r###');return a;});str=str.replace
(/\{\{([^|}]+?[ _]infobo[^|}]+)((?:[^{}]|[^{}][{}][^{}]|\{\{(?:[^{}]|[^{}][{}][^{}]|\{\{[^{}]+\}\})+\}\})+)\}\}/g,wp_sk.rFriendlyIbox);str=str.replace(/<!--[\s\S]+?-->/g,function(a){a.replace(/###comment_klamra_l###/g,'{').replace(/###comment_klamra_r###/g,'}');return a;});return str;}
wp_sk.cleanerWikiVaria=function(str){if(mw.config.get('wp-sk-fix-wikipedia-sections',true)){str=str.replace(/[ \n\t]*\n'''? *(Zobacz|Patrz) (też|także|również):* *'''?[ \t]*\n[ \t\n]*/gi,'\n\n== Zobacz też ==\n');str=str.replace(/[ \n\t]*\n'''? *(Zobacz|Patrz) (też|także|również):* *'''?[ \t]*(.+)/gi,function(a,w1,w2,linki){if(linki.indexOf('[')!=-1){linki='* '+linki;if(linki.indexOf(',')!=-1){var escape_fun=function(a){return a.replace(/,/g,'<<<#>>>')};linki=linki.replace(/\[\[[^\[\]]+\]\]/g,escape_fun);linki=linki.replace(/\{\{[^\{\}]+\}\}/g,escape_fun);linki=linki.replace(/,[ \t]*/g,'\n* ');linki=linki.replace(/<<<#>>>/g,',');}}return'\n\n== Zobacz też ==\n'+linki;});str=str.replace(/[ \n\t]*\n(=+) *(Zobacz|Patrz) (też|także|również):* *=+[ \n\t]*/gi,'\n\n$1 Zobacz też $1\n');str=str.replace(/[ \n\t]*\n'''? *((Zewnętrzn[ey] )?(Linki?|Łącza|Stron[ay]|Zobacz w (internecie|sieci))( zewn[eę]trzn[aey])?):* *'''?[ \n\t]*/gi,'\n\n== Linki zewnętrzne ==\n');str=str.
replace(/[ \n\t]*\n(=+) *((Zewnętrzn[ey] )?(Linki?|Łącza|Stron[ay]|Zobacz w (internecie|sieci))( zewn[eę]trzn[aey])?):* *=+[ \n\t]*/gi,'\n\n$1 Linki zewnętrzne $1\n');str=str.replace(/[ \n\t]*\n(=+) *([ŹŻZ]r[óo]d[łl]a):* *=+[ \n\t]*/gi,'\n\n$1 Źródła $1\n');}str=str.replace(/(^|\n)(=+) *([^=\n].*?)[ :]*\2(?=\s)/g,'$1$2 $3 $2');str=str.replace(/(^|\n)(=+[^=\n]+=+)[\n]{2,}/g,'$1$2\n');if(mw.config.get('wp-sk-fix-wikipedia-sections',true)){str=str.replace(/\n== Przypisy ==[ \t\n]+<references ?\/>/g,'\n{{Przypisy}}');str=str.replace(/\n(={3,}) Przypisy \1[ \t\n]+<references ?\/>/g,'\n{{Przypisy|stopień= $1}}');str=str.replace(/\{\{Przypisy\|stopień==/g,'{{Przypisy|stopień= =');}str=str.replace(/[ \t]+(<ref[ >]|\{\{[Ff]akt(?:\|data=[0-9\-]+)?\}\})/g,'$1');str=str.replace(
/(<references>|\{\{Przypisy[\s\S]*?\|\s*przypisy\s*=|\{\{Uwagi[\s\S]*?\|\s*uwagi\s*=|\{\{Przypisy-lista[\s\S]*?\|\s*l\. kolumn\s*=\s*[0-9]+\s*\|\s*1=|\{\{Przypisy-lista[\s\S]*?\|\s*(1\s*=)|\{\{Przypisy-lista[\s\S]*?\|)((?:<ref name[^<>]+>[\s\S]*?<\/ref>\s*)+)/gi,function(a,prerefs,temp_refs,refs){refs=refs.replace(/<\/ref><ref/gi,'</ref>\n<ref');return prerefs+'\n'+refs;});str=str.replace(/([,])(\{\{[Ff]akt(?:\|data=[0-9\-]+)?\}\})/g,"$2$1");str=str.replace(/((?:\s|^)[^& ]*);(\{\{[Ff]akt(?:\|data=[0-9\-]+)?\}\})/g,"$1$2;");str=str.replace(/([a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ]{5}|[()\[\]{}"”'>])[.](\{\{[Ff]akt(?:\|data=[0-9\-]+)?\}\})/g,"$1$2.");str=str.replace(/([a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ][aeiouyąę])[.](\{\{[Ff]akt(?:\|data=[0-9\-]+)?\}\})/g,"$1$2.");str=str.replace(/(\n[#*:;]+)(?![ \t\n#*:;{]|if[a-z]* ?:|switch ?:|time ?:|rel2abs ?:|titleparts ?:)/g,'$1 ');str=str.replace(/\n\*[ \t]*\[(http:\/\/[^ \n\]]+)\]/g,"\n* [$1 $1]");str=str.replace(
/<gallery([^\n>]*)>([\s\S]+?)<\/gallery>/gi,function(a,opcje,zaw){zaw=zaw.replace(/\n(Image|Grafika|File):/gi,'\nPlik:');return"<gallery"+opcje+">"+zaw+"</gallery>";});return str;}
wp_sk.cleanerTXT=function(str){str=str.replace(/[\u200B\uFEFF\u200E]/g,'');str=str.replace(/([^0-9])0([0-9]) *(stycznia|lutego|marca|kwietnia|maja|czerwca|lipca|sierpnia|września|października|listopada|grudnia)/g,'$1$2 $3')
str=str.replace(/&deg;/g,'°');str=str.replace(/&sum;/g,'∑');str=str.replace(/&larr;/g,'←');str=str.replace(/&rarr;/g,'→');str=str.replace(/&uarr;/g,'↑');str=str.replace(/&darr;/g,'↓');str=str.replace(/&dagger;/g,'†');str=str.replace(/<sup>o<\/sup>/g,'°');str=str.replace(/([0-9]) (%|‰|°)(?!C)/g,'$1$2');str=str.replace(/([0-9]) (%|‰|°)(?!F)/g,'$1$2');str=str.replace(/([0-9])(°[CF])/g,'$1 $2');str=str.replace(/<\/?br ?\/?>/gi,'<br>');str=str.replace(/ (tzw|tzn) /g,' $1. ');str=str.replace(/([ \n])ok\.([0-9])/g,'$1ok. $2');str=str.replace(/ d\/s /g,' ds. ');str=str.replace(/ wg\. /g,' wg ');str=str.replace(/m\.? ?(npm\.?|n[. ]{1,3}p[. ]{1,3}m\.?)/g,'m n.p.m.');str=str.replace(/ m\. in\./g,' m.in.');str=str.replace(/ o\. o\./g,' o.o.');str=str.replace(/(gmina wiejska w powiecie [a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ\-]+ województwa [a-zA-ZąćęłńóśźżĄĆĘŁŃÓŚŹŻ\-]+) II Rzeczpospolitej/g,'\1 II Rzeczypospolitej');return str;}
wp_sk.cleanerMagicLinks=function(str){str=wp_sk.cat.gather(str);str=wp_sk.iWiki.gather(str);str=wp_sk.iWikiFA.gather(str);str=wp_sk.iWikiGA.gather(str);str=wp_sk.iWikiFL.gather(str);str=str.replace(/[\n]{3,}/g,'\n\n');str=str.replace(/\s*$/,function(a){return wp_sk.cat.output(a)});str=str.replace(/\s*$/,function(a){return wp_sk.iWikiFA.output(a)});str=str.replace(/\s*$/,function(a){return wp_sk.iWikiGA.output(a)});str=str.replace(/\s*$/,function(a){return wp_sk.iWikiFL.output(a)});str=str.replace(/\s*$/,function(a){return wp_sk.iWiki.output(a)});return str;}
wp_sk.rFriendlyIbox=function(a,nazwa,zaw){if(zaw.indexOf('<!--')!=-1||zaw.indexOf('=')==-1||zaw.indexOf('\n')==-1){return a;}nazwa=nazwa.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1");zaw=zaw.replace(/<<<(#+)>>>/g,'<<<#$1>>>');zaw=zaw.replace(/\{\{(([^\{\}]+)?(\{\{[^\{\}]+\}\})?)*\}\}/g,function(a){return a.replace(/\|/g,'<<<#>>>')});zaw=zaw.replace(/\[\[[^\]]+\]\]/g,function(a){return a.replace(/\|/g,'<<<#>>>')});zaw=zaw.replace(/\|\s*(?=\|)/g,function(a){return(a.indexOf('\n')==-1)?'':'\n'}).replace(/\|\s*$/g,"");zaw=zaw.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1");zaw='\n'+zaw+'\n';zaw=zaw.replace(/\s*\|(\s*)/g,function(a,post){if(a.indexOf('\n')==-1){return a;}else if(post.indexOf('\n')==-1){return'\n |'+post;}else{return'\n | ';}});zaw=zaw.replace(/<<<#>>>/g,'|').replace(/<<<#(#+)>>>/g,'<<<$1>>>');return'{{'+nazwa.substring(0,1).toUpperCase()+nazwa.substring(1)+zaw+'}}';}
wp_sk.rLinkdecode=function(a,name,anchor,end){try{name=decodeURIComponent(name)
anchor=decodeURIComponent(anchor.replace(/\.([0-9A-F]{2})/g,'%$1'))
a='[['+name+anchor+end;}catch(err){}a=a.replace(/802\x11/g,'802.11');return a.replace(/_/g,' ');}
wp_sk.nowiki=new Object();wp_sk.nowiki.hide=function(str){str=str.replace(/<<<(#*[0-9]+)>>>/g,'<<<#$1>>>');var re=/<(nowiki|pre|source|math|includeonly|noinclude)(|[ \t\n][^>]*)>/g;var m;wp_sk.nowiki.tags=new Array();for(var t_i=0;(m=re.exec(str))!=null;t_i++){var start,end,re_end;start=m.index;re_end=new RegExp("</"+m[1]+"([ \t\n]*)>","g")
m=re_end.exec(str.substring(re.lastIndex));end=(m==null)?str.length:re.lastIndex+re_end.lastIndex;wp_sk.nowiki.tags[t_i]=str.substring(start,end);str=str.substring(0,start)+"<<<"+t_i+">>>"+str.substring(end);re.lastIndex=start;}return str;}
wp_sk.nowiki.show=function(str){str=str.replace(/<<<([0-9]+)>>>/g,function(a,i){return wp_sk.nowiki.tags[i];});str=str.replace(/<<<(#*[0-9]+)>>>/g,'<<<#$1>>>');return str;}
wp_sk.cat=new Object();wp_sk.cat.gather=function(str){wp_sk.cat.arr=new Array();wp_sk.cat.arr_i=0;wp_sk.cat.art_def_sort='';str=str.replace(/\{\{DEFAULTSORT:([^\{\}]+|\{\{[^\{\}]+\}\})\}\}(?:[ \t]+\n)?/g,function(a,ds){wp_sk.cat.art_def_sort=ds;return''});str=str.replace(/(?:\n[ \t]+)?\[\[Kategoria:([^\]\[]+)\]\](?:[ \t]+\n)?/g,function(a,cat){wp_sk.cat.arr[wp_sk.cat.arr_i++]=cat;return''});wp_sk.cat.def_sort=wp_sk.cat.art_def_sort;return str;}
function PolishCollator(){var orderArray=['aä','ą','ã','á','b','c','ć','d','e','ę','f','g','h','i','j','k','l','ł','m','n','oö','ó','p','q','r','s','ś','t','uü','v','w','x','y','z','ź','ż'];var orderHash={};for(var i=0;i<orderArray.length;i++){var items=orderArray[i].split('');for(var j=0;j<items.length;j++){orderHash[items[j]]=i;}}this.compare=function(a,b){var len=Math.min(a.length,b.length);a=a.toLocaleLowerCase();b=b.toLocaleLowerCase();for(var i=0;i<len;i++){var aValue=orderHash[a.charAt(i)];var bValue=orderHash[b.charAt(i)];if(aValue==null||bValue==null){return a.charAt(i).localeCompare(b.charAt(i));}else if(aValue>bValue){return 1;}else if(aValue<bValue){return-1;}}if(a.length<b.length){return-1;}else if(a.length>b.length){return 1;}else{return 0;}};return this;}wp_sk.cat.output=function(a){if(wp_sk.cat.arr_i==0){return a;}var str=mw.config.get('wp-sk-categories-head','\n');if(mw.config.get('wp-sk-sort-categories',false)){var collator=new PolishCollator();wp_sk.cat.
arr.sort(function(a,b){return collator.compare(a,b);});}var reDefSort=wp_sk.cat.getDefSort();for(var i=0;i<wp_sk.cat.arr_i;i++){if(/^.+\| $/.test(wp_sk.cat.arr[i])==false){wp_sk.cat.arr[i]=wp_sk.cat.arr[i].replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1");}}if(reDefSort!=""){str+='\n{{DEFAULTSORT:'+wp_sk.cat.def_sort+'}}';for(var i=0;i<wp_sk.cat.arr_i;i++){if(!wp_sk.cat.art_def_sort.length&&wp_sk.cat.arr[i].indexOf('|')==-1){str+='\n[[Kategoria:'+wp_sk.cat.arr[i]+'|{{PAGENAME}}]]';}else{wp_sk.cat.arr[i]=wp_sk.cat.arr[i].replace(reDefSort,'');str+='\n[[Kategoria:'+wp_sk.cat.arr[i]+']]';}}}else{for(var i=0;i<wp_sk.cat.arr_i;i++){str+='\n[[Kategoria:'+wp_sk.cat.arr[i]+']]';}}return str;}
wp_sk.cat.getDefSort=function(){if(wp_sk.cat.art_def_sort.length){wp_sk.cat.def_sort=wp_sk.cat.art_def_sort;}else if(wp_sk.cat.arr_i>1){wp_sk.cat.def_sort=wp_sk.cat.newDefSort();}var reDefSort="";if(wp_sk.cat.def_sort!=""){reDefSort=wp_sk.cat.def_sort.replace(/([(){}\[\]\\|.*?$^])/g,'\\$1');reDefSort=new RegExp('\\|'+reDefSort+'$');}return reDefSort;}
wp_sk.cat.newDefSort=function(){var def_sort='';var sort_i;for(sort_i=0;sort_i<wp_sk.cat.arr_i&&wp_sk.cat.arr[sort_i].indexOf('|')<0;sort_i++);var total_sort_num=0;for(var i=sort_i;i<wp_sk.cat.arr_i;i++){if(wp_sk.cat.arr[i].indexOf('|')>0)total_sort_num++;}if(total_sort_num*2<wp_sk.cat.arr_i){return'';}if(sort_i!=wp_sk.cat.arr_i){var def_sort_num=0;var def_sort_forbiden=['!',' ','*','+'];for(var i=sort_i;i<wp_sk.cat.arr_i;i++){var j,tmp_def_sort,tmp_def_sort_re,tmp_def_sort_num;for(j=i;j<wp_sk.cat.arr_i&&wp_sk.cat.arr[j].indexOf('|')<0;j++);if(j==wp_sk.cat.arr_i)break;i=j;tmp_def_sort=wp_sk.cat.arr[j].substr(wp_sk.cat.arr[j].indexOf('|')+1);if(def_sort==tmp_def_sort){continue;}tmp_def_sort_re=tmp_def_sort.replace(/([(){}\[\]\\|.*?$^])/g,'\\$1');tmp_def_sort_re=new RegExp('\\|'+tmp_def_sort_re+'$');var tmp_def_sort_num=1;for(j++;j<wp_sk.cat.arr_i;j++){if(tmp_def_sort_re.test(wp_sk.cat.arr[j])){tmp_def_sort_num++;}}if(tmp_def_sort_num<2||def_sort_num>tmp_def_sort_num){continue;}if(
tmp_def_sort_num*2>wp_sk.cat.arr_i||def_sort_forbiden.indexOf(tmp_def_sort)<0){def_sort_num=tmp_def_sort_num;def_sort=tmp_def_sort;}}}return def_sort;}
wp_sk.iWiki=new Object();wp_sk.iWiki.gather=function(str){wp_sk.iWiki.arr=new Array();wp_sk.iWiki.arr_i=0;str=str.replace(/\[\[\s*([a-z\-]+)\s*:([^\]\|\[]+)\]\](?:[ \t]+\n)?/gi,function(a,lang,art){lang=lang.toLowerCase();if(wp_sk.iWiki.order.indexOf(lang)>=0){wp_sk.iWiki.arr[wp_sk.iWiki.arr_i]=new Array(lang,art);wp_sk.iWiki.arr_i++;return'';}else{return a;}});return str;}
wp_sk.iWiki.output=function(a){if(wp_sk.iWiki.arr_i==0){return a;}var str='\n';wp_sk.iWiki.arr.sort(wp_sk.iWiki.comp);for(var i=0;i<wp_sk.iWiki.arr_i;i++){str+='\n[['+wp_sk.iWiki.arr[i][0]+':'+wp_sk.iWiki.arr[i][1]+']]';}return str;}
wp_sk.iWiki.comp=function(a,b){if(wp_sk.iWiki.order.indexOf(a[0])<wp_sk.iWiki.order.indexOf(b[0])){return-1;}else if(wp_sk.iWiki.order.indexOf(a[0])>wp_sk.iWiki.order.indexOf(b[0])){return 1;}return 0;}
wp_sk.iWiki.order=['ace','kbd','af','ak','als','am','ang','ab','ar','an','arc','roa-rup','frp','as','ast','gn','av','ay','az','bm','bn','bjn','zh-min-nan','nan','map-bms','ba','be','be-x-old','bh','bcl','bi','bg','bar','bo','bs','br','bxr','ca','cv','ceb','cs','ch','cbk-zam','ny','sn','tum','cho','co','cy','da','dk','pdc','de','dv','nv','dsb','dz','mh','et','el','eml','en','myv','es','eo','ext','eu','ee','fa','hif','fo','fr','fy','ff','fur','ga','gv','gag','gd','gl','gan','ki','glk','gu','got','hak','xal','ko','ha','haw','hy','hi','ho','hsb','hr','io','ig','ilo','bpy','id','ia','ie','iu','ik','os','xh','zu','is','it','he','jv','kl','kn','kr','pam','krc','ka','ks','csb','kk','kw','rw','rn','sw','kv','kg','ht','ku','kj','ky','mrj','lad','lbe','lo','ltg','la','lv','lb','lez','lt','lij','li','ln','jbo','lg','lmo','hu','mk','mg','ml','mt','mi','mr','xmf','arz','mzn','ms','cdo','mwl','mdf','mo','mn','mus','my','nah','na','fj','nl','nds-nl','cr','ne','new','ja','nap','ce','frr','pih','no',
'nb','nn','nrm','nov','ii','oc','mhr','or','om','ng','hz','uz','pa','pi','pfl','pag','pnb','pap','ps','koi','km','pcd','pms','tpi','nds','pl','tokipona','tp','pnt','pt','aa','kaa','crh','ty','ksh','ro','rmy','rm','qu','rue','ru','sah','se','sm','sa','sg','sc','sco','stq','st','nso','tn','sq','scn','si','simple','sd','ss','sk','sl','cu','szl','so','ckb','srn','sr','sh','su','fi','sv','tl','ta','kab','roa-tara','shi','tt','te','tet','th','ti','tg','to','chr','chy','ve','tr','tk','tw','udm','bug','uk','ur','ug','za','vec','vep','vi','vo','fiu-vro','wa','zh-classical','vls','war','wo','wuu','ts','yi','yo','zh-yue','diq','zea','bat-smg','zh','zh-tw','zh-cn',]
wp_sk.iWikiFA={'re':/\{\{[Ll]ink FA\|([a-z\-]{2,3}|simple|ru-sib|be-x-old|zh-yue|map-bms|zh-min-nan|nds-nl|bat-smg|zh-classical|fiu-vro|roa-rup|tokipona|cbk-zam|roa-tara)\}\}(?:[ \t]+\n)?/g,'out_szablon':'Link FA'}
wp_sk.iWikiFA.gather=function(str){var arr=new Array();var arr_i=0;str=str.replace(this.re,function(a,lang){if(wp_sk.iWiki.order.indexOf(lang)>=0){arr[arr_i]=lang;arr_i++;return'';}else{return a;}});this.arr=arr;this.arr_i=arr_i;return str;}
wp_sk.iWikiFA.output=function(a){if(this.arr_i==0){return a;}var str='\n';this.arr.sort(wp_sk.iWiki.comp);for(var i=0;i<this.arr_i;i++){str+='\n{{'+this.out_szablon+'|'+this.arr[i]+'}}';}return str;}
wp_sk.iWikiGA={'re':/\{\{[Ll]ink GA\|([a-z\-]{2,3}|simple|ru-sib|be-x-old|zh-yue|map-bms|zh-min-nan|nds-nl|bat-smg|zh-classical|fiu-vro|roa-rup|tokipona|cbk-zam|roa-tara)\}\}(?:[ \t]+\n)?/g,'out_szablon':'Link GA'}
wp_sk.iWikiGA.gather=wp_sk.iWikiFA.gather;wp_sk.iWikiGA.output=wp_sk.iWikiFA.output;wp_sk.iWikiFL={'re':/\{\{[Ll]ink FL\|([a-z\-]{2,3}|simple|ru-sib|be-x-old|zh-yue|map-bms|zh-min-nan|nds-nl|bat-smg|zh-classical|fiu-vro|roa-rup|tokipona|cbk-zam|roa-tara)\}\}(?:[ \t]+\n)?/g,'out_szablon':'Link FL'}
wp_sk.iWikiFL.gather=wp_sk.iWikiFA.gather;wp_sk.iWikiFL.output=wp_sk.iWikiFA.output;wp_sk.redir=new Object();wp_sk.redir.linkPrefix=document.location.protocol+"//"+document.location.hostname+mw.config.get('wgArticlePath').replace('$1','');wp_sk.redir.extractTitle=function(link){if(link.substring(0,this.linkPrefix.length)!=this.linkPrefix){return null;}return decodeURIComponent(link.substring(this.linkPrefix.length).replace(/_/g,' ')).replace(/#.*$/,'');}
wp_sk.redir.init=function(){wp_sk.redir.base_url=mw.util.wikiScript('api')+'?action=query&redirects&format=json&titles=';if(wgAction=='submit'){if(document.cookie.indexOf('wpsk_redir_time_disable=1')!=-1){return;}else{var d=new Date();d=new Date(d.getTime()+300000);document.cookie="wpsk_redir_time_disable=1; path=/; expires="+d.toGMTString();}}var elWikiBody=document.getElementById('wikiPreview');if(elWikiBody){wp_sk.redir.urls=new Array();wp_sk.redir.urls[0]=new Array();var url_i=url_j=0;var as=jQuery("a.mw-redirect");for(var i=0;i<as.length;i++){var tmp=this.extractTitle(as[i].href);if(tmp==null){continue;}var isnew=!0;for(var ui=0;ui<=url_i;ui++){for(var uj=0;uj<url_j;uj++){if(wp_sk.redir.urls[ui][uj]==tmp){isnew=!1;break;}}if(!isnew)break;}if(isnew){wp_sk.redir.urls[url_i][url_j++]=tmp;if(url_j>=50){if(url_i>=4){break;}url_j=0;wp_sk.redir.urls[++url_i]=new Array();}}}if(wp_sk.redir.urls[0].length>0){var $notice=jQuery(
'<div id="wp-sk-redir-notice">Sprawdzanie linków do przekierowań...</div>');jQuery('#wpTextbox1').before($notice);wp_sk.redir.arr=new Array();wp_sk.redir.arr_i=0;wp_sk.redir.urls_i=0;var url=wp_sk.redir.urls[wp_sk.redir.urls_i].join('|');wp_sk.redir.url=wp_sk.redir.base_url+url;wp_sk.redir.full_prev_url=wp_sk.redir.url;var that=this;jQuery.getJSON(wp_sk.redir.url,null,function(result){that.resp(result);});}}}
wp_sk.redir.resp=function(jres){var that=this;var txtescape=/([\\^\$\*\+\?\.\(\)\[\]\{\}\:\=\!\|\,\-])/g;for(var r in jres.query.redirects){r=jres.query.redirects[r];wp_sk.redir.arr[wp_sk.redir.arr_i++]={'rdir':r.from,'art':r.to}}if(jres['query-continue']!=null){var continue_url=wp_sk.redir.url+'&plcontinue='+encodeURIComponent(jres['query-continue'].links.plcontinue);if(wp_sk.redir.full_prev_url!=continue_url){wp_sk.redir.full_prev_url=continue_url;jQuery.getJSON(continue_url,null,function(result){that.resp(result);});return;}else{}}else if(wp_sk.redir.urls_i<wp_sk.redir.urls.length-1){var url=wp_sk.redir.urls[++wp_sk.redir.urls_i].join('|');wp_sk.redir.url=wp_sk.redir.base_url+url;wp_sk.redir.full_prev_url=wp_sk.redir.url;jQuery.getJSON(wp_sk.redir.url,null,function(result){that.resp(result);});return;}wp_sk.cleanerLinks_orig=wp_sk.cleanerLinks;wp_sk.cleanerLinks=function(str){var reTxtEscape=/([\\^\$\*\+\?\.\(\)\[\]\{\}\:\=\!\|\,\-])/g;for(var page in wp_sk.redir.arr){page=wp_sk.
redir.arr[page];var re=page.rdir.replace(reTxtEscape,'\\$1');if(re.search(/^[a-zżółćęśąźń]/i)==0){re='['+re[0].toLowerCase()+re[0].toUpperCase()+']'+re.substr(1);}var re=new RegExp('\\[\\[('+re+')(\\||\\]\\])','g');str=str.replace(re,function(a,art,end){return'[['+page.art+(end=='|'?'|':'|'+art+']]');});}return wp_sk.cleanerLinks_orig(str);}
jQuery("#wp-sk-redir-notice").remove();var el=document.getElementById('wp_sk_img_btn');if(toolbarGadget.wikieditor){el.src='//commons.wikimedia.org/w/thumb.php?f=Broom%20icon%20R.svg&w=22';}else{el.src='//upload.wikimedia.org/wikipedia/commons/3/31/Button_broom_R.png';}}
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(elt){var len=this.length;var from=Number(arguments[1])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0)from+=len;for(;from<len;from++){if(from in this&&this[from]===elt)return from;}return-1;};}wp_sk.sz_redirs_tab={};jQuery(document).ready(function(){if(mw.config.get('wgAction')!='submit'&&mw.config.get('wgAction')!='edit'){return;}if(wp_sk_show_as_button){wp_sk.button();}if(wp_sk_redir_enabled){wp_sk.redir.init();}});mw.config.set('wp-sk-summary','sprzątanie kodu');mw.config.set('wp-sk-sort-categories',true);wp_sk.sz_redirs_tab={'-':'Clear','autorskie':'Prawo autorskie','braklicencji':'Brak licencji','brakopisu':'Brak opisu','bwd':'Błąd w druku','df':'Sformatować','dp':'Dopracować','delete':'Ek','dopodzielenia':'Podziel','dopracowania':'Dopracować','ex libris':'Skan zawiera grafikę','justowaniestop':'JustowanieKoniec','kor':'Korekta','kap':'Kapitaliki','nagłówekbibliant':'BG nagłówek NT',
'nagłówekbibliast':'BG nagłówek ST','pd-bo':'PD-because','ph':'Prawo historyczne','pu':'Prawo uchylone','page contains image':'Skan zawiera grafikę','pd':'PD','postępprac':'Postęp prac','powitanie':'Witaj','ppraw':'Uwagi o aktach prawnych','roz':'Rozstrzelony','sdu':'SDU','szablon':'S','tłumaczpd':'PD-old-tłumacz','tłumaczenie licencja':'Licencja-tłumaczenie','tns':'Tylko na stronie','współpraca':'Tłumaczenie','xx-większy':'XX-większy'};wp_sk.projectSpecificCleanup=function(text){if(mw.config.get('wgCanonicalNamespace')=="Page"){text=text.replace(/ *\r*\n\r*\n(:*)([A-ZŚĆÓŁŹŻ«»„'—]|\{\{[^tT])/g,"<br>\n$1{{tab}}$2");}return text;};});mw.loader.implement("ext.gadget.style-summary-buttons@1qx060i",null,{"css":[".userSummaryButtons a,#userSummaryButtons a{background:#cfc;border:1px dotted #090;padding:0 2px;margin:2px;cursor:pointer;font-size:80%;line-height:17px;color:black;white-space:nowrap}.userSummaryButtons a:hover,#userSummaryButtons a:hover{background:#bfb;border:1px solid #9c9;text-decoration:none}"]});mw.loader.implement("ext.gadget.mediawiki.toolbar@03qot0i",function($,jQuery,require,module){(function(){var toolbar,isReady,$toolbar,queue,slice,$currentFocused;if(mw.user.options.get('usebetatoolbar')||!mw.user.options.get('gadget-LegacyToolbar2006')){return;}function insertButton(button,speedTip,tagOpen,tagClose,sampleText,imageId){var $button;if(typeof button!=='object'){button={imageFile:button,speedTip:speedTip,tagOpen:tagOpen,tagClose:tagClose,sampleText:sampleText,imageId:imageId};}if(button.imageFile){$button=$('<img>').attr({src:button.imageFile,alt:button.speedTip,title:button.speedTip,id:button.imageId||undefined,'class':'mw-toolbar-editbutton'});}else{$button=$('<div>').attr({title:button.speedTip,id:button.imageId||undefined,'class':'mw-toolbar-editbutton'});}$button.click(function(e){if(button.onClick!==undefined){button.onClick(e);}else{toolbar.insertTags(button.tagOpen,button.tagClose,button.sampleText);}return false;});$toolbar.append($button);}isReady=!1;$toolbar=
!1;queue=[];slice=queue.slice;toolbar={addButton:function(){if(isReady){insertButton.apply(toolbar,arguments);}else{queue.push(slice.call(arguments));}},addButtons:function(buttons){if(!Array.isArray(buttons)){buttons=slice.call(arguments);}if(isReady){buttons.forEach(function(button){insertButton(button);});}else{queue.push.apply(queue,buttons);}},insertTags:function(tagOpen,tagClose,sampleText){if($currentFocused&&$currentFocused.length){$currentFocused.textSelection('encapsulateSelection',{pre:tagOpen,peri:sampleText,post:tagClose});}}};toolbar.init=$.noop;mw.toolbar=toolbar;$(function(){var $textBox,$editform,i,button;$currentFocused=$('#wpTextbox1');$toolbar=$('#toolbar');if($toolbar.length===0){$editform=$('#editform');$textBox=$('#wpTextbox1');if($textBox.length===0){return;}$toolbar=$('<div>').attr({id:'toolbar'});$toolbar.insertBefore($editform);}for(i=0;i<queue.length;i++){button=queue[i];if(Array.isArray(button)){insertButton.apply(toolbar,button);}else{insertButton(
button);}}queue.length=0;isReady=!0;$(document).on('focus','textarea, input:text',function(){$currentFocused=$(this);});});}());});